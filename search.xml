<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="/posts/4a17b156.html"/>
      <url>/posts/4a17b156.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Live2d</title>
      <link href="/posts/fd317c05.html"/>
      <url>/posts/fd317c05.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>基于 <code>live2d</code> 模块，博客安装看板娘分为小白版（Hexo插件版看板娘）和魔改版（大神魔改版看板娘）。更高阶的方法和模型请参考<a href="https://akilar.top/posts/5b8f515f/">店长的教程</a>。</p><h1 id="自定义看板娘"><a href="#自定义看板娘" class="headerlink" title="自定义看板娘"></a>自定义看板娘</h1><div class="tabs" id="tab"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tab-1">Hexo插件版</button></li><li class="tab"><button type="button" data-href="#tab-2">大神魔改版</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tab-1"><p> <strong>安装</strong></p><p>在 Hexo 根目录下打开终端，输入以下指令安装必要插件。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><p>打开站点配置文件 <code>config.yml</code><br>搜索 <code>live2d</code>, 按照如下注释内容指示进行操作。<br>如果没有搜到 <code>live2d</code> 的配置项，就直接把以下内容复制到最底部。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># Live2D</span><br><span class="line">## https://github.com/EYHN/hexo-helper-live2d</span><br><span class="line">live2d:</span><br><span class="line">  enable: true #开关插件版看板娘</span><br><span class="line">  scriptFrom: local # 默认</span><br><span class="line">  pluginRootPath: live2dw/ # 插件在站点上的根目录(相对路径)</span><br><span class="line">  pluginJsPath: lib/ # 脚本文件相对与插件根目录路径</span><br><span class="line">  pluginModelPath: assets/ # 模型文件相对与插件根目录路径</span><br><span class="line">  # scriptFrom: jsdelivr # jsdelivr CDN</span><br><span class="line">  # scriptFrom: unpkg # unpkg CDN</span><br><span class="line">  # scriptFrom: https://npm.elemecdn.com/live2d-widget@3.x/lib/L2Dwidget.min.js # 你的自定义 url</span><br><span class="line">  tagMode: false # 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中</span><br><span class="line">  debug: false # 调试, 是否在控制台输出日志</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-wanko # npm-module package name</span><br><span class="line">    # use: wanko # 博客根目录/live2d_models/ 下的目录名</span><br><span class="line">    # use: ./wives/wanko # 相对于博客根目录的路径</span><br><span class="line">    # use: https://npm.elemecdn.com/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # 你的自定义 url</span><br><span class="line">  display:</span><br><span class="line">    position: left #控制看板娘相对位置</span><br><span class="line">    width: 180 #控制看板娘大小</span><br><span class="line">    height: 360 #控制看板娘大小</span><br><span class="line">    hOffset: 0 #控制看板娘平行位置</span><br><span class="line">    vOffset: -100 #控制看板娘垂直位置</span><br><span class="line">  mobile:</span><br><span class="line">    show: true # 手机中是否展示</span><br><span class="line">  react:</span><br><span class="line">    opacity: 0.85 #设置透明度</span><br></pre></td></tr></table></figure><p>完成后保存修改，在 Hexo 根目录下运行指令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><blockquote><p>注意必须要使用 hexo clean 是因为我们需要清空缓存重新生成静态页面，不然看板娘没被加入生成的静态页面里，是不会出现的。</p></blockquote><p><strong>更换看板娘</strong></p><p>更换模型有两种方式：一种是自定义模式，另一种是使用 <code>npm install {packagename}</code> 安装模型。自定义模型可以添加模型，包安装只有指定的模型不支持添加模型。</p><ol><li><p>自定义模型</p><p>使用自己下载好的模型<br>在hexo根目录新建<code>live2d_models</code>文件夹，然后把模型放进去，最后在<code>live2d</code>配置里的<code>model:</code>下的<code>use:</code>输入模型文件夹名，这里我以<code>雷姆</code>进行演示</p><blockquote><p>将<code>雷姆</code>复制到刚新建的<code>live2d_models</code>文件夹内，然后重命名为<code>rem</code>(当然这个名字是你自定义的)，然后进入<code>rem</code>文件夹，里面有个<code>model.json</code>文件，将他重命名为<code>rem.model.json</code>其他文件无需修改，最后在<code>live2d</code>配置里的<code>model:</code>下的<code>use:</code>输入模型文件夹名(rem)</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">model:</span><br><span class="line">     use: rem</span><br></pre></td></tr></table></figure><p><img src="https://s3.bmp.ovh/imgs/2023/03/12/c921cae2387ce197.png" alt="模型展示"></p><p><strong>请注意模型的moc文件和moc3文件，moc是live2d旧版本的格式，moc3是live2d新版本的格式。</strong></p><p><code>hexo-helper-live2d</code>插件只支持moc文件，如果是moc3文件，Live2d会报错。</p></li><li><p>模型下载地址</p><p><a href="https://mx.paul.ren/">梦象，一个专注于 Live2D 模型的资源站</a></p><p><a href="https://github.com/Eikanya/Live2d-model">海量模型收集</a>【<u>建议使用GitZip，选择单个文件夹下载，不然你会后悔的</u>】</p><p><a href="https://pan.baidu.com/s/1IqThtSNF69Cbb8XydKQVGQ?pwd=rzu3">百度网盘</a>  提取码：rzu3</p></li><li><p>使用 <code>npm install {packagename}</code> 安装模型</p><p>同样是在 Hexo 根目录下打开终端，选择想要的看板娘进行安装，例如我这里用到的是 <code>live2d-widget-model-wanko</code>，一个装在碗里的小狗狗。</p><p>输入指令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save live2d-widget-model-wanko</span><br></pre></td></tr></table></figure><p>然后在站点配置文件<code>_config.yml</code> 里找到 <code>model</code> 项修改为期望的模型。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">model:</span><br><span class="line">  use: live2d-widget-model-wanko</span><br><span class="line">  # 默认就是live2d-widget-model-wanko</span><br></pre></td></tr></table></figure><p>之后重新运行就可以预览效果</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure></li></ol><p>Hexo插件版到此配置完成了，后续内容都是魔改版配置，有能力可以动手挑战。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-2"><ol><li><p>去<a href="https://github.com/stevenjoezhang/live2d-widget">https://github.com/stevenjoezhang/live2d-widget</a>把库clone下来;</p></li><li><p>以<code>Butterfly</code>主题为例，在<code>[Blogroot]\themes\butterfly\source\</code>目录下打开终端,输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/stevenjoezhang/live2d-widget.git live2d-widget</span><br></pre></td></tr></table></figure><blockquote><p>这行指令的意思就是<code>clone</code>这个项目到<code>source</code>路径下并重命名为<code>live2d-widget</code>。<del>emm，貌似本来就叫live2d-widget。反正算是一个踩坑点。</del>如果是用下载项目压缩包，解压后放到这里的，也记得把文件夹更名为<code>live2d-widget</code>。</p></blockquote></li><li><p>找到路径<code>[Blogroot]\themes\butterfly\source\live2d-widget\autoload.js</code>，打开<code>autoload.js</code>，修改内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- const live2d_path = &quot;https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/&quot;;</span><br><span class="line">+ const live2d_path = &quot;/live2d-widget/&quot;;</span><br></pre></td></tr></table></figure><blockquote><p>此处引用一下参考教程原话：<code>autoload.js</code>中的注释的绝对地址指的是，将资源打包放到<code>[Blogroot]/theme/next/source</code>中后，以<code>[Blogroot]/theme/next/source</code>为根目录（&#x2F;）的绝对路径。</p></blockquote></li><li><p>将<code>autoload.js</code>注入主题，在主题的<code>_config.yml</code>中找到<code>inject</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    # Inject</span><br><span class="line">    # Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span><br><span class="line">    # 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span><br><span class="line">    inject:</span><br><span class="line">      head:</span><br><span class="line">        # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line">      bottom:</span><br><span class="line">        # - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br><span class="line">+       - &lt;script defer src=&quot;/live2d-widget/autoload.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></li><li><p>保存所有文件的修改，然后照例执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure></li><li><p>自定义修改</p><p>可以通过修改<code>[Blogroot]\themes\butterfly\source\live2d-widget</code>路径下的样式资源文件：</p><ul><li><code>waifu-tips.js</code>:包含了按钮和对话框的逻辑</li><li><code>waifu-tips.json</code> :定义了触发条件（selector，CSS 选择器）和触发时显示的文字（text）；</li><li><code>waifu.css</code>:看板娘的样式表。可以对看板娘的位置布局等做自定义修改。</li></ul></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="本地化API配置"><a href="#本地化API配置" class="headerlink" title="本地化API配置"></a>本地化API配置</h1><p>从<code>stevenjoezhang</code>下载下来的库使用的是cdn过后的api，会导致换皮肤功能没有效果。所以提供两种解决方案。</p><ol><li><p>懒人配置方案:修改张书樵大神的项目内的<code>~\live2d-widget\autoload.js</code>,将模型资源由<code>cdnPath</code>改为<code>apiPath</code>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  // 加载 waifu.css live2d.min.js waifu-tips.js</span><br><span class="line">  if (screen.width &gt;= 768) &#123;</span><br><span class="line">  Promise.all([</span><br><span class="line">  loadExternalResource(live2d_path + &quot;waifu.css&quot;, &quot;css&quot;),</span><br><span class="line">  loadExternalResource(live2d_path + &quot;live2d.min.js&quot;, &quot;js&quot;),</span><br><span class="line">  loadExternalResource(live2d_path + &quot;waifu-tips.js&quot;, &quot;js&quot;)</span><br><span class="line">  ]).then(() =&gt; &#123;</span><br><span class="line">  initWidget(&#123;</span><br><span class="line">  waifuPath: live2d_path + &quot;waifu-tips.json&quot;,</span><br><span class="line">- //apiPath: &quot;https://live2d.fghrsh.net/api/&quot;,</span><br><span class="line">-  cdnPath: &quot;https://cdn.jsdelivr.net/gh/fghrsh/live2d_api/&quot;</span><br><span class="line">+ apiPath: &quot;https://live2d.fghrsh.net/api/&quot;,</span><br><span class="line">+  //cdnPath: &quot;https://cdn.jsdelivr.net/gh/fghrsh/live2d_api/&quot;</span><br><span class="line">  &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>这个apiPath就是live2d_widget的原作者<a href="https://www.fghrsh.net/post/123.html">@fghrsh</a>搭建的。但是这个API纯粹是用爱发电的产物，随时可能到期，虽然已经喊了三年了。。。详见<a href="https://www.fghrsh.net/post/170.html">Live2D 看板娘 API 迁移公告</a>，所以最好还是采用<a href="https://github.com/fghrsh/live2d_api">自建api</a>的方式。</p></li><li><p>模型配置方案更改</p><p>上面已经说到过，张书樵大神的魔改方案其实已经实现了<code>本地化API</code>，只是因为模型配置路径不同才导致无法换装的。所以其实只要注意配置模型时，保证每个可以展示的模型都有相应的<code>index.json</code>并且在<code>model_list.json</code>里有相应的模型路径就可以了。</p><p>这里读者可以直接使用店长配置好的本地化项目的路径：<br>修改张书樵大神的项目内的<code>~\live2d-widget\autoload.js</code>,修改<code>cdnPath</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  // 加载 waifu.css live2d.min.js waifu-tips.js</span><br><span class="line">  if (screen.width &gt;= 768) &#123;</span><br><span class="line">  Promise.all([</span><br><span class="line">  loadExternalResource(live2d_path + &quot;waifu.css&quot;, &quot;css&quot;),</span><br><span class="line">  loadExternalResource(live2d_path + &quot;live2d.min.js&quot;, &quot;js&quot;),</span><br><span class="line">  loadExternalResource(live2d_path + &quot;waifu-tips.js&quot;, &quot;js&quot;)</span><br><span class="line">  ]).then(() =&gt; &#123;</span><br><span class="line">  initWidget(&#123;</span><br><span class="line">  waifuPath: live2d_path + &quot;waifu-tips.json&quot;,</span><br><span class="line">  //apiPath: &quot;https://live2d.fghrsh.net/api/&quot;,</span><br><span class="line">-  cdnPath: &quot;https://cdn.jsdelivr.net/gh/fghrsh/live2d_api/&quot;</span><br><span class="line">+  cdnPath: &quot;https://npm.elemecdn.com/akilar-live2dapi@latest/&quot;,</span><br><span class="line">//因为jsdelivr不支持50MB以上的包的加速，可能报403错误，所以用的vercel的CDN服务。</span><br><span class="line">//可以考虑clone我配置好的live2d_api仓库自己部署到其他更快的cdn服务上。</span><br><span class="line">  &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>除了让原有模型换装可用化以为，还顺便添加了<code>亚丝娜</code>、<code>和泉纱雾</code>，<code>血小板</code>、<code>土间埋（干物妹小埋）</code>和<code>香风智乃</code>的模型哦。魔改版配置到此完成</p></li></ol><h1 id="文件说明"><a href="#文件说明" class="headerlink" title="文件说明"></a>文件说明</h1><p><a href="https://docs.live2d.com/cubism-editor-manual/top/">官方文档</a></p><p>以官方模型Hiyori为例。</p><ul><li>moc3 是模型文件</li><li>model3.json 是模型配置文件</li><li>pose3.json 预设姿势文件</li><li>userdata3.json 用户数据和事件</li><li>physics3.json 物理演算配置文件</li><li>Hiyori.2048 文件夹存放模型图片<ul><li>texture_00.png</li><li>texture_001png</li></ul></li><li>motions 文件夹存放模型动作文件<ul><li>Hiyori_m01.motion3.json &#x2F;&#x2F;动作文件后缀为motion3.json</li></ul></li></ul><p><u>.physics3.json .pose3.json 等文件一般用Live2d Cubism Editor生成，可有可不有。没有.physic3.json物理演算可以用动作文件ide.motion3.json代替，idle是待机的动作。</u></p><p>.moc3文件用记事本打开开头是MOC3代表是moc3格式模型。</p><h1 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h1><p><a href="https://akilar.top/posts/5b8f515f/">Live2d Widget</a> - akilar</p><p><a href="https://butterfly.lete114.top/article/Live2d-Config.html#">Hexo-Live2d安装教程(自定义Live2d)</a> - Lete乐特</p><p><a href="https://lldlly.github.io/2021/02/03/theme_live2d/#%E6%95%88%E6%9E%9C%E5%9B%BE">给butterfly主题添加看板娘</a> - 上野</p><p><a href="https://eikanya.github.io/post/live2d%E9%85%8D%E7%BD%AE/">Live2d的moc3配置说明</a> - Eikan</p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Live2d </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DDOS攻击应对策略</title>
      <link href="/posts/1f1a156.html"/>
      <url>/posts/1f1a156.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>需要说明的是，我对DDOS不是很了解，因为群里有人的网站被盗刷流量了，对此比较感兴趣于是主动了解一些缓解DDOS攻击的策略方法。</p><h2 id="DDOS-是什么？"><a href="#DDOS-是什么？" class="headerlink" title="DDOS 是什么？"></a>DDOS 是什么？</h2><blockquote><p>分布式拒绝服务(DDoS:Distributed Denial of Service)攻击指借助于客户&#x2F;服务器技术，将多个计算机联合起来作为攻击平台，对一个或多个目标发动DDoS攻击，从而成倍地提高拒绝服务攻击的威力。</p></blockquote><p>举个栗子，我开了一家餐厅，正常情况下，最多可以容纳30个人同时进餐。你直接走进餐厅，找一张桌子坐下点餐，马上就可以吃到东西。</p><p>很不幸，我得罪了一个流氓。他派出300个人同时涌进餐厅。这些人看上去跟正常的顾客一样，每个都说”赶快上餐”。但是，餐厅的容量只有30个人，根本不可能同时满足这么多的点餐需求，加上他们把门口都堵死了，里三层外三层，正常用餐的客人根本进不来，实际上就把餐厅瘫痪了。</p><p>这就是 DDOS 攻击，它在短时间内发起大量请求，耗尽服务器的资源，无法响应正常的访问，造成网站实质下线。</p><p>通常，攻击者将攻击程序通过代理程序安装在网络上的各个“肉鸡”上，代理程序收到指令时就发动攻击。</p><p><img src="https://s3.bmp.ovh/imgs/2023/03/11/36b3a4602dff887f.png" alt="DDOS攻击示意图"></p><p>随着网络技术发展，DDOS攻击也在不断进化，攻击成本越来越低，而攻击力度却成倍加大，使得DDOS更加难以防范。比如<code>反射型DDoS攻击</code>就是相对高阶的攻击方式。<u>攻击者并不直接攻击目标服务IP，而是通过伪造被攻击者的IP向全球特殊的服务器发请求报文，这些特殊的服务器会将数倍于请求报文的数据包发送到那个被攻击的IP（目标服务IP）。</u></p><p>DDOS攻击让人望而生畏，它可以直接导致网站宕机、服务器瘫痪，对网站乃至企业造成严重损失。而且DDOS很难防范，可以说目前没有根治之法，只能尽量提升自身“抗压能力”来缓解攻击，比如购买高防服务。</p><p>DDOS 里面的 DOS 是 denial of service（停止服务）的缩写，表示这种攻击的目的，就是使得服务中断。最前面的那个 D 是 distributed （分布式），<u>表示攻击不是来自一个地方，而是来自四面八方，因此更难防。你关了前门，他从后门进来；你关了后门，他从窗口跳起来。</u></p><p><strong>有一点需要说明的是，DDOS攻击，只能短暂瘫痪对方网站，类似我这样的个人博客，没有多大瘫痪的价值。分布式DDOS攻击代价是很大的，对方每次攻击都是需要烧钱的！除非我碰上了马云或者比尔盖茨这种富豪了。</strong></p><h2 id="DDOS-的种类"><a href="#DDOS-的种类" class="headerlink" title="DDOS 的种类"></a>DDOS 的种类</h2><p>DDOS 不是一种攻击，而是一大类攻击的总称。它有几十种类型，新的攻击方法还在不断发明出来。网站运行的各个环节，都可以是攻击目标。只要把一个环节攻破，使得整个流程跑不起来，就达到了瘫痪服务的目的。</p><p>其中，比较常见的一种攻击是 cc 攻击。它就是简单粗暴地送来大量正常的请求，超出服务器的最大承受量，导致宕机。所以本文以下的内容都是针对CC攻击</p><h2 id="DDOS攻击应对策略"><a href="#DDOS攻击应对策略" class="headerlink" title="DDOS攻击应对策略"></a>DDOS攻击应对策略</h2><h3 id="备份网站"><a href="#备份网站" class="headerlink" title="备份网站"></a>备份网站</h3><p>防范 DDOS 的第一步，就是你要有一个备份网站，或者最低限度有一个临时主页。生产服务器万一下线了，可以立刻切换到备份网站，不至于毫无办法。</p><p>备份网站不一定是全功能的，如果能做到全静态浏览，就能满足需求。最低限度应该可以显示公告，告诉用户，网站出了问题，正在全力抢修。</p><p>这种临时主页建议放到 <a href="https://pages.github.com/">Github Pages</a> 或者 <a href="https://www.netlify.com/">Netlify</a>，它们的带宽大，可以应对攻击，而且都支持绑定域名，还能从源码自动构建。</p><h3 id="HTTP-请求的拦截"><a href="#HTTP-请求的拦截" class="headerlink" title="HTTP 请求的拦截"></a>HTTP 请求的拦截</h3><p>如果恶意请求有特征，对付起来很简单：直接拦截它就行了。</p><p><code>HTTP</code> 请求的特征一般有两种：<code>IP</code> 地址和 <code>User Agent</code> 字段。比如，恶意请求都是从某个 <code>IP</code> 段发出的，那么把这个 <code>IP</code> 段封掉就行了。或者，它们的 <code>User Agent</code> 字段有特征（包含某个特定的词语），那就把带有这个词语的请求拦截。</p><p>拦截可以在三个层次做。</p><ul><li><p>专用硬件</p><p>Web 服务器的前面可以架设硬件防火墙，专门过滤请求。这种效果最好，但是价格也最贵。</p></li><li><p>本机防火墙</p><p>操作系统都带有软件防火墙，Linux 服务器一般使用 <a href="https://wiki.archlinux.org/index.php/Iptables_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29">iptables</a>。比如，拦截 IP 地址<code>1.2.3.4</code>的请求，可以执行下面的<a href="https://www.howtogeek.com/177621/the-beginners-guide-to-iptables-the-linux-firewall/">命令</a>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -A INPUT -s 1.2.3.4 -j DROP</span><br></pre></td></tr></table></figure></li><li><p>Web 服务器</p><p>Web 服务器也可以过滤请求。拦截 IP 地址<code>1.2.3.4</code>，nginx 的<a href="https://help.dreamhost.com/hc/en-us/articles/216456127-Blocking-IPs-with-Nginx">写法</a>如下。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location / &#123;</span><br><span class="line">  deny 1.2.3.4;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Apache 的<a href="https://stackoverflow.com/questions/3264233/apache-block-an-ip-address-from-accessing-the-website">写法</a>是在<code>.htaccess</code>文件里面，加上下面一段。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;RequireAll&gt;</span><br><span class="line">    Require all granted</span><br><span class="line">    Require not ip 1.2.3.4</span><br><span class="line">&lt;/RequireAll&gt;</span><br></pre></td></tr></table></figure><p>如果想要更精确的控制（比如自动识别并拦截那些频繁请求的 IP 地址），就要用到 <a href="https://en.wikipedia.org/wiki/Web_application_firewall">WAF</a>。这里就不详细介绍了，nginx 这方面的设置可以参考<a href="https://www.nginx.com/blog/mitigating-ddos-attacks-with-nginx-and-nginx-plus/">这里</a>和<a href="https://www.nginx.com/blog/rate-limiting-nginx/">这里</a>。</p><p><u>Web 服务器的拦截非常消耗性能，尤其是 Apache。稍微大一点的攻击，这种方法就没用了。</u></p></li></ul><h3 id="带宽扩容"><a href="#带宽扩容" class="headerlink" title="带宽扩容"></a>带宽扩容</h3><p><u>上一节的 HTTP 拦截有一个前提，就是请求必须有特征。但是，真正的 DDOS 攻击是没有特征的，它的请求看上去跟正常请求一样，而且来自不同的 IP 地址，所以没法拦截。这就是为什么 DDOS 特别难防的原因。</u></p><p>当然，这样的 DDOS 攻击的成本不低，普通的网站不会有这种待遇。不过，真要遇到了该怎么办呢，有没有根本性的防范方法呢？</p><p>答案很简单，就是设法把这些请求都消化掉。30个人的餐厅来了300人，那就想办法把餐厅扩大（比如临时再租一个门面，并请一些厨师），让300个人都能坐下，那么就不影响正常的用户了。对于网站来说，就是在短时间内急剧扩容，提供几倍或几十倍的带宽，顶住大流量的请求。这就是为什么云服务商可以提供防护产品，因为他们有大量冗余带宽，可以用来消化 DDOS 攻击。</p><p>一个朋友传授了一个方法，给我留下深刻印象。某云服务商承诺，每个主机保 5G 流量以下的攻击，他们就一口气买了5个。网站架设在其中一个主机上面，但是不暴露给用户，其他主机都是镜像，用来面对用户，DNS 会把访问量均匀分配到这四台镜像服务器。一旦出现攻击，这种架构就可以防住 20G 的流量，如果有更大的攻击，那就买更多的临时主机，不断扩容镜像。</p><p><u>如果门口流量只有10MB，同时进入100MB流量， 自己服务器技术上怎么设置都没用，成本</u></p><h3 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h3><p>CDN 指的是网站的静态内容分发到多个服务器，用户就近访问，提高速度。因此，CDN 也是带宽扩容的一种方法，可以用来防御 DDOS 攻击。</p><p>网站内容存放在源服务器，CDN 上面是内容的缓存。用户只允许访问 CDN，如果内容不在 CDN 上，CDN 再向源服务器发出请求。这样的话，只要 CDN 够大，就可以抵御很大的攻击。不过，这种方法有一个前提，网站的大部分内容必须可以静态缓存。对于动态内容为主的网站（比如论坛），就要想别的办法，尽量减少用户对动态数据的请求。</p><details class="toggle" ><summary class="toggle-button" style="">静态资源和动态资源的概念</summary><div class="toggle-content"><p><code>静态资源</code>：我的理解是前端的固定页面，这里面包含HTML、CSS、JS、图片等等，不需要查数据库也不需要程序处理，直接就能够显示的页面。<br>具体形式为：客户端发送请求到web服务器，web服务器拿到对应的文件，返回给客户端，客户端解析并渲染出来。</p><p><code>动态资源</code>：需要程序处理或者从数据库中读数据，能根据不同的条件在页面显示不同的数据，优点是内容更新不需要修改页面，缺点是访问速度不及静态页面。<br>具体形式为：客户端请求的动态资源，先把请求交给web的一个存储点，web存储点连接数据库，数据库处理数据之后，将数据交给web服务器，web服务器返回给客户端解析渲染处理。</p><p><code>区别</code>：</p><ol><li>静态资源一般都是设计好的html页面，而动态资源依靠设计好的程序来实现按照需求的动态响应或者从数据库中读数据；</li><li>静态资源的交互性差，不好更改，而动态资源可以根据需求获取内容；</li><li>在服务器的运行状态不同，静态资源不需要与数据库参于程序处理，动态资源需要一个或多个数据库的参与运算。</li></ol></div></details><p>上一节提到的镜像服务器，本质就是自己搭建一个微型 CDN。各大云服务商提供的<a href="https://baike.baidu.com/item/%E9%AB%98%E9%98%B2%E6%9C%8D%E5%8A%A1%E5%99%A8">高防 IP</a>，背后也是这样做的：网站域名指向高防 IP，它提供一个缓冲层，清洗流量，并对源服务器的内容进行缓存。</p><p>这里有一个关键点，一旦上了 CDN，千万不要泄露源服务器的 IP 地址，否则攻击者可以绕过 CDN 直接攻击源服务器，前面的努力都白费。搜一下”<a href="https://www.baidu.com/s?wd=cdn%20%E7%9C%9F%E5%AE%9Eip">绕过 CDN 获取真实 IP 地址</a>“，你就会知道国内的黑产行业有多猖獗。</p><p>不过，这里还是要说一下，CDN其实也保护不了真实IP，终归有一些请求是没办法走CDN的, 比如ajax之类的。如果你的网站有动态资源，需要通过ajax获取后台数据，就会被获取到真实IP。</p><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>目前而言，DDOS攻击并没有最好的根治之法，做不到彻底防御，只能采取各种手段在一定程度上减缓攻击伤害。所以平时服务器的运维工作还是要做好基本的保障，并借鉴本文分享的方案，将DDOS攻击带来的损失尽量降低到最小。防止攻击这事儿也只能是魔高一尺道高一丈。</p><h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><p><a href="https://www.ruanyifeng.com/blog/2018/06/ddos.html">DDOS 攻击的防范教程</a> - 阮一峰</p><p><a href="https://www.xuecaijie.com/it/183.html">经历过DDOS的”洗礼”，你还好么？</a> - admin</p><p><a href="https://blog.csdn.net/gbb2020/article/details/107820186">web中什么是静态资源和动态资源</a> - gbb2020</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DDOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github Page 个人主页——CDN加速</title>
      <link href="/posts/ce066b43.html"/>
      <url>/posts/ce066b43.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>目前为止，我已经拥有一个使用自己的域名的网站了。在访问个人网页时，实质上是去Github的服务器上取资源的，但是国内的 Github 经常抽风，有时候都访问不了官网，个人网页自然也就打不开了。<br><strong>本文介绍一种可以加速网页访问的技术——CDN。</strong></p><h1 id="什么是CDN？"><a href="#什么是CDN？" class="headerlink" title="什么是CDN？"></a>什么是CDN？</h1><blockquote><p>CDN的全称是Content Delivery Network，即内容分发网络。通过将服务内容分发至全网加速节点，利用全球调度系统使用户能够在就近节点获取所需内容，有效降低访问延迟，提升服务可用性。</p></blockquote><h1 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h1><blockquote><p>访问域名-&gt;DNS服务器-&gt;CDN服务器-&gt;Github服务器-&gt;返回请求资源</p></blockquote><h1 id="腾讯云CDN介绍"><a href="#腾讯云CDN介绍" class="headerlink" title="腾讯云CDN介绍"></a>腾讯云CDN介绍</h1><p>我这里选择收费的 腾讯云CDN，也可以选择阿里云，或者国外的。有一些是免费的CDN，例如 jsDelivr 参考 如何使用jsDelivr+Github 实现免费CDN加速? ，我觉得收费的效果好一点，收费也比较低，而且个人网页或者博客访问量一般不高，一般几毛钱一个月，可以自行尝试一下。</p><ul><li>腾讯云CDN新开通每个月送50G流量，5个月后每个月送10G，像我这种个人使用的小博客一般都够用了。</li><li>使用的要求：需要注册腾讯云账号并实名认证，域名必须备案才能使用。</li></ul><h1 id="接入CDN加速后有什么作用？"><a href="#接入CDN加速后有什么作用？" class="headerlink" title="接入CDN加速后有什么作用？"></a>接入CDN加速后有什么作用？</h1><ol><li>CDN 缓存内容后，用户仅需要访问就近的 CDN 节点即可获取静态内容。</li><li>缓解源站带宽压力，网络费用更低。</li><li>分布全球的跨境节点提升跨境访问体验。</li></ol><h1 id="CDN-的配置"><a href="#CDN-的配置" class="headerlink" title="CDN 的配置"></a>CDN 的配置</h1><ol><li><p>域名管理：</p><blockquote><p>添加域名-&gt;选择中国境外-&gt;填写顶级域名-&gt;加速网页小文件</p></blockquote><p>这里验证归属权就要去 <em>DNSPod</em> 添加一条 <em>TXT</em> 的记录，等待生效验证就行了</p><p><img src="https://s3.bmp.ovh/imgs/2023/03/09/ff2985191c9cff43.png" alt="DNS验证"></p></li><li><p>源站配置</p><p><strong>注意不要配置自定义域名，要在腾讯云CDN中配置。</strong></p><ol><li>此时你应该可以访问你的github.io页面了，例如：<a href="https://lgq-sys.github.io/">https://Lgq-sys.github.io/</a>这种形式的</li><li>腾讯云CDN主要配置host和域名即可，参考下图</li></ol><p><img src="https://s1.ax1x.com/2023/07/04/pCseJVe.png"></p><p><strong>CDN通俗来讲，类似京东的物流系统</strong>。先把大量的货物都放到海南的一个仓库里，当有人下单后，可以直接从海南的小仓库直接发货，这就能大大减少交货时间</p><p><strong>顾名思义，源站就是“源头的站点“，也就是CDN上面的资源，最初来自哪里。</strong></p><p>”<strong>回源</strong>“。大致的流程是 <strong>用户 –&gt; CDN服务器 –&gt; 源站</strong></p><p>​</p></li><li><p>服务配置</p><p>添加一项规则，将 <em><code>css;js</code></em> 后缀的文件只缓存2分钟，其他全部文件缓存10分钟，后期稳定后可以加长时间，缓存个几天就差不多了，根据需求来。</p><p>不要把 <code>index.html</code> 也缓存了，不然部署后看到还是上一个版本的 html。所以，在服务配置里的 <strong>缓存行为-不缓存</strong> 里添加 <strong>html</strong> 的后缀。这里的节点缓存过期配置就是指，资源在CDN服务器上存留的时间，失效后就会去源站重新拉取新的资源。</p><p><img src="https://s1.ax1x.com/2023/07/04/pCsm6OK.png"></p><p>​</p><p><img src="https://s1.ax1x.com/2023/03/10/ppnIatI.png" alt="服务配置"></p><p>提交后，会显示状态为“成功”。</p><p><img src="https://www.syunz.com/wp-content/uploads/2021/12/c7.png" alt="success"></p></li></ol><h1 id="获取-HTTPS-证书"><a href="#获取-HTTPS-证书" class="headerlink" title="获取 HTTPS 证书"></a>获取 HTTPS 证书</h1><ol><li><p>证书管理：</p><blockquote><p>配置证书-&gt;选择域名-&gt;申请SSL证书</p></blockquote><p><img src="https://s1.ax1x.com/2023/03/10/ppnI7B4.png" alt="证书管理"></p></li><li><p>申请一个免费的证书</p><p><img src="https://s3.bmp.ovh/imgs/2023/03/09/fd7575a7256b4c9e.jpg" alt="申请证书"></p></li><li><p>提交申请进行域名认证，等待验证通过，就会颁发证书了</p><p><img src="https://s3.bmp.ovh/imgs/2023/03/09/9ee817b273d7b7de.jpg" alt="添加记录"></p></li></ol><h1 id="DNS-的配置"><a href="#DNS-的配置" class="headerlink" title="DNS 的配置"></a>DNS 的配置</h1><ol><li><p>记下 CDN 提供的 <strong>CNAME</strong></p><p><img src="https://s1.ax1x.com/2023/03/10/ppnIB1f.png" alt="请添加图片描述"></p></li><li><p>在 DNSPod 添加一条 <em>CNAME</em> 记录，如下图设置 （主机记录根据你自己域名来设置，我这里用的是二级域名）</p><p><img src="https://s3.bmp.ovh/imgs/2023/03/09/688fccb28e27724d.png" alt="添加记录"></p><p>一级域名，使用以下配置：</p><table><thead><tr><th>主机记录</th><th>记录类型</th><th>线路类型</th><th>纪录值</th><th>TTL</th></tr></thead><tbody><tr><td>@</td><td>CNAME</td><td>默认</td><td>CDN提供的CANME</td><td>600</td></tr><tr><td>www</td><td>CNAME</td><td>默认</td><td>CDN提供的CANME</td><td>600</td></tr></tbody></table><p>二级域名：使用以下配置：</p><table><thead><tr><th>主机记录</th><th>记录类型</th><th>线路类型</th><th>纪录值</th><th>TTL</th></tr></thead><tbody><tr><td>二级域名</td><td>CNAME</td><td>默认</td><td>CDN提供的CANME</td><td>600</td></tr></tbody></table><p>设置好CNAME之后，回到CDN管理面板，打开域名管理</p><p>可以看到CNAME域名这里，已经变成了绿色的勾。说明加速服务正常运行中</p><p>状态显示为<code>部署中</code>，耐心等待一会儿即可，就会变成<code>已启动</code>。</p><p><img src="https://s1.ax1x.com/2023/03/10/ppnIDc8.png" alt="部署中"></p><p><img src="https://s1.ax1x.com/2023/03/10/ppnIyng.png" alt="已启动"></p></li><li><p>如果想要验证CNAME 是否生效，可以登录到云服务器，通过命令查看</p><p>比如命令：dig &lt;加速域名&gt;   ，如下图所示，标注的地方已经变成了CNAME域名。说明已经生效了。</p><p><img src="https://www.syunz.com/wp-content/uploads/2021/12/c13.png" alt="验证"></p><p>到这里，网站域名就已经成功接入CDN加速。</p></li><li><p>配置SSL证书后，可以开启HTTPS【根据需要选择】</p><p><img src="https://s3.bmp.ovh/imgs/2023/03/09/36534e040e612d61.jpg" alt="开启HTTPS"></p></li></ol><h1 id="CDN防御配置"><a href="#CDN防御配置" class="headerlink" title="CDN防御配置"></a>CDN防御配置</h1><p>CDN作为按量后付费的产品，相信不少人也很担心由于恶意用户盗刷产生大量带宽或者流量，导致产生高额账单。</p><p>案例：<a href="https://b23.tv/19UWOQu">没想到又被攻击了！赔了1.5万，我真服了！</a></p><p>那么为避免我们的站点被盗刷流量或者遭遇类似 CC、DDOS 等攻击，该如何配置来进行防御呢？</p><p><u>一般而言，主要通过三个方面去防御，即访问控制、流量管理以及安全防护。比如防盗链设置、ip黑白名单配置、ip访问限频、带宽封顶配置，以及开通安全加速 SCDN服务等等。</u></p><p>下面提供几种常用的配置方式（以腾讯云CDN为例）：</p><h2 id="用量封顶配置"><a href="#用量封顶配置" class="headerlink" title="用量封顶配置"></a>用量封顶配置</h2><p>如果超出了配置的访问阈值，就可以自动关闭 CDN 服务，或者请求直接返回源站，这样可以及时避免产生更多CDN服务费用。</p><p>在CDN控制台，点击左侧的域名管理，点击域名右侧的<code>管理</code>，在<code>高级配置</code>下可以看到<code>用量封顶配置</code></p><p><img src="https://www.syunz.com/wp-content/uploads/2021/12/c18.png" alt="用量封顶"></p><p>开启<code>配置状态</code>开关，进行设置。配置类型可以选择<code>带宽封顶</code>或<code>流量封顶</code>。</p><p><img src="https://s1.ax1x.com/2023/03/10/ppnIRNn.png" alt="配置类型选择"></p><p>注意：<strong>用量封顶配置生效存在一定延迟（10 分钟左右），期间产生的消耗会正常计费。</strong></p><h2 id="防盗链配置"><a href="#防盗链配置" class="headerlink" title="防盗链配置"></a>防盗链配置</h2><p>通过限制访问来源，避免恶意用户盗刷。</p><p>点击CDN控制台，选择域名管理，找到<code>访问控制</code>，可以看到<code>防盗链配置</code>选项。打开配置状态，进行设置</p><p><img src="https://s1.ax1x.com/2023/03/10/ppnIh90.png" alt="防盗链"></p><h2 id="IP黑白名单配置"><a href="#IP黑白名单配置" class="headerlink" title="IP黑白名单配置"></a>IP黑白名单配置</h2><p>通过配置IP访问控制策略，可以有效限制访问来源，阻拦恶意 IP 盗刷、攻击等问题。</p><p>点击CDN控制台，选择域名管理，找到<code>访问控制</code>，可以看到<code>IP黑白名单配置</code>选项。打开配置状态，进行设置</p><p><img src="https://s1.ax1x.com/2023/03/10/ppnIh90.png" alt="IP黑白名单配置"></p><h2 id="IP访问限频配置"><a href="#IP访问限频配置" class="headerlink" title="IP访问限频配置"></a>IP访问限频配置</h2><p>通过对单 IP 单节点在每一秒钟的访问次数进行限制，可进行高频 CC 攻击抵御、防恶意用户盗刷等。</p><p>点击CDN控制台，选择域名管理，找到<code>访问控制</code>，可以看到<code>IP访问限频配置</code>选项。打开配置状态，进行设置</p><p><img src="https://www.syunz.com/wp-content/uploads/2021/12/c23.png" alt="访问限频"></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ul><li>添加 CDN 服务器，将 CDN 的源指向 Github 服务器</li><li>在 DNS 配置中，将 CNAME 指向 CDN</li><li>给自己域名颁发证书，并将该证书绑定到 CDN</li></ul><h1 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h1><p><a href="https://blog.csdn.net/qiyuwg/article/details/89249126">WordPress使用腾讯云CDN配置实现https访问教程</a> - 熊IT</p><p><a href="https://blog.csdn.net/m0_47520749/article/details/124768311">Github Page 个人主页——CDN加速</a> - Otm-Z</p><p><a href="https://www.syunz.com/855.html">网站如何配置CDN加速？网站域名接入CDN加速的步骤</a> - 云助手</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> CDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>访客地图</title>
      <link href="/posts/a8a0d075.html"/>
      <url>/posts/a8a0d075.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote><p>感觉有点意思，于是准备动手看看效果。这个插件发现过时了，网上的文章都是一两年前的，描述的也不太详细或者使用的方法和我的不同，于是折腾了一阵子终于弄出来了。因为我是使用的butterfly主题的方式引入的链接，所以这篇文章仅供butterfly主题的Hexo博客参考。</p></blockquote><p>在此之前得有个 clustrmaps 账号，前往 <a href="https://clustrmaps.com/">clustrmaps</a> 网站注册一个帐号，有Google账号可以直接登录，Login in即可</p><p><img src="https://s3.bmp.ovh/imgs/2023/03/09/a85c15d9297fe017.jpg" alt="登录"></p><h2 id="自定义widget"><a href="#自定义widget" class="headerlink" title="自定义widget"></a>自定义widget</h2><ol><li><p>点击头像，选择 <code>My Websites</code></p><p><img src="https://s3.bmp.ovh/imgs/2023/03/09/49f6157aac21a68a.jpg" alt="My Websites"></p></li><li><p>右上角点击<code>Create Your Widget</code>，提交博客域名，点击Next，选择Globe Widget样式，即创建成功；</p><p><img src="https://s3.bmp.ovh/imgs/2023/03/09/9585da70ee1d1532.png" alt="创建"></p></li><li><p><code>Widget</code> 项点选<code>Code</code>；</p><p><img src="https://s3.bmp.ovh/imgs/2023/03/09/3b8ada7a59f595b5.jpg" alt="code"></p></li><li><p>选择<code>Globe Widegt</code></p><p><img src="https://s3.bmp.ovh/imgs/2023/03/09/5eda3407f36fb456.png"></p></li><li><p>复制js代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot; id=&quot;clstr_globe&quot; src=&quot;//clustrmaps.com/globe.js?d=5V2tOKp8qAdRM-i8eu7ETTO9ugt5uKbbG-U7Yj8uMl8&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="https://s3.bmp.ovh/imgs/2023/03/09/5452fdc177bd703a.jpg" alt="copy"></p></li><li><p>在Hexo博客目录中的 <code>source/_data</code>（如果没有 _data 文件夹，请自行创建），创建一个文件 <code>widget.yml</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">top:</span><br><span class="line">  - class_name: # 【可选】所创建的widget父类class名</span><br><span class="line">    id_name:    # 【可选】所创建的widget父类id名</span><br><span class="line">    name:       # 【可选】所创建的widget标题</span><br><span class="line">    icon:       # 【可选】所创建的widget图标</span><br><span class="line">    html:       # 【可选】所创建的widget相关代码</span><br><span class="line"></span><br><span class="line">bottom:</span><br><span class="line">  - class_name:</span><br><span class="line">    id_name:</span><br><span class="line">    name:</span><br><span class="line">    icon:</span><br><span class="line">    order:       # 【可选】所创建的widget排序</span><br><span class="line">    html:</span><br></pre></td></tr></table></figure><blockquote><p>参数详解</p></blockquote><p><strong>top</strong>: 创建的 widget 会出现在非 sticky 区域（即所有页面都会显示)</p><p><strong>bottom</strong>: 创建的 widget 会出现在 sticky 区域（除了文章页都会显示)</p><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>class_name</td><td>所创建的 widget 父类 class 名 （可选）</td></tr><tr><td>id_name</td><td>所创建的 widget 父类 id 名（可选）</td></tr><tr><td>name</td><td>所创建的 widget 标题</td></tr><tr><td>icon</td><td>所创建的 widget 图标</td></tr><tr><td>order</td><td>所创建的 widget 排序 （可选）</td></tr><tr><td>html</td><td>所创建的 widget 相关代码</td></tr></tbody></table></li><li><p>创建<code>widget.yml</code>文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bottom:</span><br><span class="line">    - class_name: user-map</span><br><span class="line">      id_name: user-map</span><br><span class="line">      name: 访客地图</span><br><span class="line">      icon: fas fa-heartbeat</span><br><span class="line">      order:</span><br><span class="line">      html: &#x27;&lt;script type=&quot;text/javascript&quot; id=&quot;clstr_globe&quot; src=&quot;//clustrmaps.com/globe.js?d=5V2tOKp8qAdRM-i8eu7ETTO9ugt5uKbbG-U7Yj8uMl8&quot;&gt;&lt;/script&gt;&#x27;</span><br></pre></td></tr></table></figure></li><li><p>运行hexo项目，查看结果</p><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/aside-diy-sample.png" alt="预览"></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
            <tag> clustrmaps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爬取豆瓣数据生成电影页面</title>
      <link href="/posts/737f360a.html"/>
      <url>/posts/737f360a.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote><p>一个在 <a href="https://hexo.io/">Hexo</a> 页面中嵌入豆瓣个人主页的小插件.</p></blockquote><p>电影界面可以使用插件 <a href="https://github.com/mythsman/hexo-douban">hexo-douban</a> | <a href="https://github.com/jerryc127/butterfly-plugins/tree/main/hexo-butterfly-douban">hexo-butterfly-douban</a></p><blockquote><p>这两个插件的功能是相同的，只是 <code>hexo-butterfly-douban</code> 插件适配 Butterfly 主题，可以配置 <code>meta</code>, <code>top_img</code>, <code>comments</code> 和 <code>aside</code>。hexo-butterfly-douban插件作者已经不在维护，推荐使用hexo-douban。</p></blockquote><div class="tabs" id="tab"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tab-1">hexo-douban</button></li><li class="tab"><button type="button" data-href="#tab-2">hexo-butterfly-douban</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tab-1"><ul><li>安装</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-douban --save</span><br></pre></td></tr></table></figure><ul><li>配置</li></ul><p>将下面的配置写入站点的配置文件 <code>_config.yml</code> 里(不是主题的配置文件).</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">douban:</span><br><span class="line">  id: 162448367</span><br><span class="line">  builtin: false</span><br><span class="line">  item_per_page: 10</span><br><span class="line">  book:</span><br><span class="line">    path: books/index.html</span><br><span class="line">    title: &#x27;This is my book title&#x27;</span><br><span class="line">    quote: &#x27;This is my book quote&#x27;</span><br><span class="line">    option:</span><br><span class="line">  movie:</span><br><span class="line">    path: movies/index.html</span><br><span class="line">    title: &#x27;This is my movie title&#x27;</span><br><span class="line">    quote: &#x27;This is my movie quote&#x27;</span><br><span class="line">    option:</span><br><span class="line">  game:</span><br><span class="line">    path: games/index.html</span><br><span class="line">    title: &#x27;This is my game title&#x27;</span><br><span class="line">    quote: &#x27;This is my game quote&#x27;</span><br><span class="line">    option:</span><br><span class="line">  song:</span><br><span class="line">    path: songs/index.html</span><br><span class="line">    title: &#x27;This is my song title&#x27;</span><br><span class="line">    quote: &#x27;This is my song quote&#x27;</span><br><span class="line">    option:</span><br><span class="line">  timeout: 10000 </span><br></pre></td></tr></table></figure><ul><li><p><strong>id</strong>: 你的豆瓣ID(纯数字格式，不是自定义的域名)。获取方法：你的豆瓣 ID. 打开豆瓣，登入账户，然后在右上角点击 “个人主页” ，这时候地址栏的 URL 大概是这样：”<a href="https://www.douban.com/people/xxxxxx/%22">https://www.douban.com/people/xxxxxx/"</a> ，其中的”xxxxxx” 就是你的个人 ID 了。</p></li><li><p><strong>builtin</strong>: 是否将<code>hexo douban</code>命令默认嵌入进<code>hexo g</code>、<code>hexo s</code>，使其自动执行<code>hexo douban</code> 命令。默认关闭。当你的豆瓣条目较多时，也建议关闭。</p></li><li><p><strong>item_per_page</strong>: 每页展示的条目数，默认 10 。</p></li><li><p><strong>path</strong>: 生成页面后的路径，默认生成在 &#x2F;&#x2F;yourblog&#x2F;public&#x2F;books&#x2F;index.html 等下面。如需自定义路径，则可以修改这里。</p><p><u>注意：hexo-butterfly-douban 会主动生成页面，所以不需要自己创建。也就是说不会创建在<code>source</code>文件夹下，默认生成在<code>public</code>文件夹</u></p></li><li><p><strong>title</strong>: 该页面的标题。</p></li><li><p><strong>quote</strong>: 写在页面开头的一段话,支持html语法。</p></li><li><p><strong>option</strong>: 该页面额外的 Front-matter 配置，参考<a href="https://hexo.io/docs/front-matter.html">Hexo 文档</a>。无特别需要，留空即可。</p></li><li><p><strong>timeout</strong>: 爬取数据的超时时间，默认是 10000ms ,如果在使用时发现报了超时的错(ETIMEOUT)可以把这个数据设置的大一点。</p></li></ul><p>如果只想显示某一个页面(比如movie)，那就把其他的配置项注释掉即可。</p><ul><li>使用</li></ul><table><thead><tr><th align="center">参数</th><th align="center">解释</th></tr></thead><tbody><tr><td align="center">hexo douban -b</td><td align="center">生成book 页面</td></tr><tr><td align="center">hexo douban -g</td><td align="center">生成game 页面</td></tr><tr><td align="center">hexo douban -m</td><td align="center">生成movie 页面</td></tr><tr><td align="center">hexo douban -s</td><td align="center">生成song 页面</td></tr></tbody></table><p>使用 <code>hexo douban</code> 命令即可生成指定页面，如果不加参数，那么默认参数为 <code>-bgms</code>，生成所有页面。当然，前提是配置文件中均有这些类型的配置。</p><p><strong>需要注意的是</strong>，通常大家都喜欢用<code>hexo d</code>来作为<code>hexo deploy</code>命令的简化，但是当安装了<code>hexo douban</code>之后，就不能用<code>hexo d</code>了，因为<code>hexo douban</code>跟<code>hexo deploy</code> 的前缀都是<code>hexo d</code>。</p><p>第一次使用 hexo douban 时，后台会异步进行数据获取，一般需要等待一段时间（后台访问你的标记页面）才能查到数据。顺利情况下，平均一个页面会花10s。</p><p>例如如果你有 150 个想读、150个已读、150个在读的图书，每页15条，则共需要翻30页。那么大约需要等待 30*10&#x2F;60&#x3D;5 分钟。如果长时间没有更新，请及时提 issue 反馈。</p><p>后续如果你的豆瓣数据更新了，hexo douban 同样也会自动进行更新（同样需要等待一段时间才会查到更新数据），不过出于安全考虑，一个用户id<strong>每小时至多只会同步一次</strong>。</p><p>由于数据获取的策略原因，目前数据只支持新增，不支持删除。也就是说，即使你在豆瓣中删除了某个“想看”，这里同步到的数据中仍然包含这个条目。</p><ul><li>升級</li></ul><ol><li>修改 package.json 內 hexo-butterfly-douban 的版本号至最新</li><li>重新安裝最新版本<code>npm install hexo-butterfly-douban --save</code></li><li>或者使用<code>npm install hexo-butterfly-douban --update --save</code>直接更新。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-2"><ul><li>安装</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-douban --save</span><br></pre></td></tr></table></figure><ul><li>配置</li></ul><p>将下面的配置写入站点的配置文件 <code>_config.yml</code> 里 (不是主题的配置文件)。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">douban:</span><br><span class="line">  user: mythsman</span><br><span class="line">  builtin: false</span><br><span class="line">  book:</span><br><span class="line">    title: &#x27;This is my book title&#x27;</span><br><span class="line">    quote: &#x27;This is my book quote&#x27;</span><br><span class="line">    meta: true</span><br><span class="line">    comments: true</span><br><span class="line">    top_img: https://cccccc.png</span><br><span class="line">    aside: true</span><br><span class="line">    path: books</span><br><span class="line">    limit:</span><br><span class="line">  movie:</span><br><span class="line">    title: &#x27;This is my movie title&#x27;</span><br><span class="line">    quote: &#x27;This is my movie quote&#x27;</span><br><span class="line">    meta: true</span><br><span class="line">    comments: true</span><br><span class="line">    top_img: https://cccccc.png</span><br><span class="line">    aside: true</span><br><span class="line">    path: movies</span><br><span class="line">    limit:</span><br><span class="line">  game:</span><br><span class="line">    title: &#x27;This is my game title&#x27;</span><br><span class="line">    quote: &#x27;This is my game quote&#x27;</span><br><span class="line">    meta: true</span><br><span class="line">    comments: true</span><br><span class="line">    top_img: https://cccccc.png</span><br><span class="line">    aside: true</span><br><span class="line">    path: games</span><br><span class="line">    limit:</span><br><span class="line">  timeout: 10000 </span><br></pre></td></tr></table></figure><table><thead><tr><th>參數</th><th>解釋</th></tr></thead><tbody><tr><td>user</td><td>你的豆瓣ID.打開豆瓣，登入賬户，然後在右上角點擊 “個人主頁” ，這時候地址欄的URL大概是這樣：”<a href="https://www.douban.com/people/xxxxxx/">https://www.douban.com/people/xxxxxx/</a>“ ，其中的”xxxxxx”就是你的個人ID了</td></tr><tr><td>builtin</td><td>是否將生成頁面的功能嵌入<code>hexo s</code>和<code>hexo g</code>中，默認是<code>false</code>,另一可選項為<code>true</code>(1.x.x版本新增配置項)</td></tr><tr><td>title</td><td>該頁面的標題</td></tr><tr><td>quote</td><td>寫在頁面開頭的一段話,支持 html 語法.</td></tr><tr><td>timeout</td><td>【可選】爬取數據的超時時間，默認是 10000ms ,如果在使用時發現報了超時的錯(ETIMEOUT)可以把這個數據設置的大一點</td></tr><tr><td>meta</td><td>【可選】插入 <code>&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot;&gt;</code> 到頁面，可解決部分瀏覽器無法顯示豆瓣圖片的問題（會導致一些插件出錯，例如 不蒜子計數器。）</td></tr><tr><td>comments</td><td>【可選】是否顯示評論</td></tr><tr><td>top_img</td><td>【可選】是否顯示頂部圖</td></tr><tr><td>aside</td><td>【可選】是否顯示側邊欄</td></tr><tr><td>path</td><td>【可選】生成的網址movie 頁面默認為 <code>//yourblog/movies</code>book 頁面默認為 <code>//yourblog/books</code>game 頁面默認為 &#96;&#96;&#x2F;&#x2F;yourblog&#x2F;games&#96;</td></tr><tr><td>limit</td><td>【可選】限制爬取的頁數</td></tr></tbody></table><p><strong>如果只想显示某一个页面 (比如 movie)，那就把其他的配置项注释掉即可。</strong></p><ul><li><p>使用</p><ul><li>1.x.x 版本</li></ul><p>在 0.x.x 版本中，文章的更新和豆瓣页面的爬取操作是绑定在一起的，无法支持单独更新文章或者单独爬取文章。</p><p>在 1.x.x 版本中，使用 <code>hexo douban</code> 命令即可生成指定页面，如果不加参数，那么默认参数为 <code>-bgm</code>。</p><p><strong>需要注意的是</strong>，通常大家都喜欢用 <code>hexo d</code> 来作为 <code>hexo deploy</code> 命令的简化，但是当安装了 <code>hexo douban</code> 之后，就不能用 <code>hexo d</code> 了，因为 <code>hexo douban</code> 跟 <code>hexo deploy</code> 的前缀都是 <code>hexo d</code>。</p><p>如果配置了 <code>builtin</code> 参数为 <code>true</code>，那么除了可以使用 <code>hexo douban</code> 命令之外，<code>hexo g</code> 或 <code>hexo s</code> 也内嵌了生成页面的功能。</p><ul><li>0.x.x 版本</li></ul><p>直接使用命令 <code>hexo g</code> 即在生成静态页面前爬取豆瓣数据，如果使用 <code>hexo s</code> 则会监听文件变动，每有一次变动就会重新爬取数据。</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="菜单"><a href="#菜单" class="headerlink" title="菜单"></a>菜单</h1><p>如果上面的显示没有问题就可以在主题的配置文件 <code>_config.yml</code> 里添加如下配置来为这些页面添加菜单链接.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  Home: /</span><br><span class="line">  Archives: /archives</span><br><span class="line">  Books: /books     #This is your books page</span><br><span class="line">  Movies: /movies   #This is your movies page</span><br><span class="line">  Games: /games   #This is your games page</span><br></pre></td></tr></table></figure><h1 id="使用效果"><a href="#使用效果" class="headerlink" title="使用效果"></a>使用效果</h1><p>以下是一些主题的使用效果：【以下博客是使用的是hexo-douban插件，但是和hexo-butterfly-douban插件显示的效果没有区别】</p><h3 id="hexo-theme-butterfly"><a href="#hexo-theme-butterfly" class="headerlink" title="hexo-theme-butterfly"></a><a href="https://github.com/jerryc127/hexo-theme-butterfly">hexo-theme-butterfly</a></h3><ul><li><a href="https://blog.gmcj0816.top/books/">七鳄の学习格 - 生在黑暗，行向光明ヾ(@^▽^@)ノ</a></li><li><a href="https://cmwlvip.github.io/movies/">Ofra Serendipity</a></li><li><a href="https://cvki.cn/movies/">冰糖盒子 - 冰糖的笔记本</a></li><li><a href="https://zipblog.top/movies/">フサエ·キャンベル·木之下 - 天道酬勤功不唐捐</a></li><li><a href="https://www.ensoul.club/books/">个人生活感悟记录</a></li><li><a href="https://week.wiki/movies/">week.wiki</a></li><li><a href="https://code7rain.github.io/movies/">CodeRain - 越努力，越幸运</a></li><li><a href="https://hangzl.xyz/movies/">hangzl’s Blog - 总之岁月漫长 然而值得等待</a></li><li><a href="https://www.lmx0.top/movies/">Lmx0</a></li><li><a href="https://laopangshu.top/movies/">老胖叔 - JZ</a></li><li><a href="https://kisugitakumi.net/movies/">来生拓己 オフィシャルサイト</a></li><li><a href="https://www.shengshunyan.xyz/movies/">果实o的博客 - 个人网站</a></li><li><a href="https://iqdxa.github.io/movies/">TFC的个人博客</a></li><li><a href="https://mindcons.cn/booklist/">吕小布の博客 - MindCons</a></li><li><a href="https://blog.darler.cn/movies/">Darler Space - 极速翱翔</a></li><li><a href="https://evergarden.moe/books/">Evergarden</a></li><li><a href="https://www.intelland.cn/movies/">现实的延续</a></li></ul><h3 id="hexo-theme-matery"><a href="#hexo-theme-matery" class="headerlink" title="hexo-theme-matery"></a><a href="https://github.com/blinkfox/hexo-theme-matery">hexo-theme-matery</a></h3><ul><li><a href="https://imouyang.com/books/">小法进阶</a></li><li><a href="https://jupeiqi.top/books/">Peiqi Blog</a></li></ul><h3 id="hexo-theme-next"><a href="#hexo-theme-next" class="headerlink" title="hexo-theme-next"></a><a href="https://github.com/theme-next/hexo-theme-next">hexo-theme-next</a></h3><ul><li><a href="https://blog.home999.cc/books">Lyz’s Blog - Never Give Up</a></li></ul><h3 id="hexo-theme-stellar"><a href="#hexo-theme-stellar" class="headerlink" title="hexo-theme-stellar"></a><a href="https://github.com/xaoxuu/hexo-theme-stellar">hexo-theme-stellar</a></h3><ul><li><a href="https://www.shifeiti.com/about/movies/">是非题</a></li><li><a href="https://blog.pengfeima.cn/movies/">MerryJingle</a></li></ul><h3 id="hexo-theme-volantis"><a href="#hexo-theme-volantis" class="headerlink" title="hexo-theme-volantis"></a><a href="https://github.com/volantis-x/hexo-theme-volantis">hexo-theme-volantis</a></h3><ul><li><a href="https://www.laoliang.ink/book/">老梁有墨</a></li></ul><h3 id="hexo-theme-pure"><a href="#hexo-theme-pure" class="headerlink" title="hexo-theme-pure"></a><a href="https://github.com/cofess/hexo-theme-pure">hexo-theme-pure</a></h3><ul><li><a href="https://lhx.cool/movies/">fyupeng</a></li></ul><h3 id="hexo-theme-icarus"><a href="#hexo-theme-icarus" class="headerlink" title="hexo-theme-icarus"></a><a href="https://github.com/ppoffice/hexo-theme-icarus">hexo-theme-icarus</a></h3><ul><li><a href="https://therehello.top/movies/">There Hello</a></li></ul><h3 id="hexo-theme-fluid"><a href="#hexo-theme-fluid" class="headerlink" title="hexo-theme-fluid"></a><a href="https://github.com/fluid-dev/hexo-theme-fluid">hexo-theme-fluid</a></h3><ul><li><a href="https://blog.loststar.tech/movies">Loststar’s blog</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> movies </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>提问技巧：开发者如何有条理的提问</title>
      <link href="/posts/1ba73b4.html"/>
      <url>/posts/1ba73b4.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote><p>问任何问题前，先收集足够的信息，否则，只是增加沟通的成本。</p></blockquote><blockquote><p>技巧不局限于编程，同样适用于其他方面的提问</p></blockquote><p><strong>参考来源：</strong></p><ol><li><a href="https://segmentfault.com/a/1190000007959880">那位提问的开发者，可否组织好你的提问和代码再把问题丢出来啊？—— 如何有条理地提问</a> - StinsonZhao</li><li><a href="https://www.eet-china.com/mp/a11493.html">提问技巧 | 开发者如何有条理的提问</a> - strongerHuang</li><li><a href="https://blog.csdn.net/HJsir/article/details/79974231?ops_request_misc=&request_id=&biz_id=102&utm_term=%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E8%B0%B7%E6%AD%8C&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-6-79974231.142%5Ev73%5Einsert_down2,201%5Ev4%5Eadd_ask,239%5Ev2%5Einsert_chatgpt&spm=1018.2226.3001.4187">为什么程序员都推荐Google搜索而不是百度</a> - HJsir</li></ol><p><strong>全文分4个部分，见下图，如果觉得自己是会独立思考，是会搜索的，是态度端正的朋友，只是不知道怎么组织一个好提问的，可以直接跳到第3部分（组织你的提问），不过我建议还是从头浏览到尾，也不会花太多时间。</strong></p><p><img src="https://s3.bmp.ovh/imgs/2023/03/09/eb95cb687fcc077f.png" alt="如何提问"></p><h1 id="遇问题先搜索"><a href="#遇问题先搜索" class="headerlink" title="遇问题先搜索"></a>遇问题先搜索</h1><blockquote><p>很多很多时候，你的问题别人已经遇到过了，所以别人可能提问过了、可能小结过了（也许在某一篇博文里）、可能在技术文档里提到过的，而其中大部分相关的内容，搜索引擎足以帮你找到相关的内容。</p></blockquote><h2 id="态度——别做伸手党！"><a href="#态度——别做伸手党！" class="headerlink" title="态度——别做伸手党！"></a>态度——别做伸手党！</h2><p><strong>什么是伸手党？</strong></p><p>没问过搜索引擎、没查过技术文档、没自己的思考、没自己尝试解决过，而只是想要最后的代码，答主给了思路，还要求代码！</p><p>总之，他们只是需要有个人能帮他们填个空好交差，因为这样最安逸。</p><p><u>对这类人，微笑，再见。（而且往往这样的提问，会被踩）</u></p><p><strong>换位思考</strong></p><p>平时生活中，与身边的同事、朋友这些都是熟人，说话随意一点没问题。</p><p>但群友之间基本都是陌生人，你提问是需要得到别人帮助，你不能像大爷一样说话很硬，不要觉得别人应该帮你。</p><p>所以，提问需要换位思考，说话尽量语气委婉，最好有一些（尊敬的）前缀，<u>比如：大家好、您好、老师好等。</u></p><h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><ol><li><p>搜索引擎</p><p>国内百度我之前说过，适合娱乐八卦新闻。想要搜索用户认为正确的，权威度较高的文章，首推Google。</p><blockquote><p>中国有句老话叫“曲高和寡”。这句话是什么意思呢？意思就是，绝大多数人都是庸俗的，他们更喜欢“酒色财气”而不是高冷的专业知识……因此，搜“三点透视”，链接最多的往往不是“制图技法”而是三俗……（这可能就是为啥“搜什么度娘都给你看黄图”背后的真相……）</p></blockquote></li><li><p>官方</p><p>如果是针对某一项技术的问题，建议去官方找他们的在线文档，<strong>官方文档永远是最靠谱的</strong>，不过要注意版本。</p></li><li><p>社区</p><p>推荐去官方合作，或者一些比较对口的社区。国内的<code>segmentfault</code>，国外的<code>stackoverflow</code>，上面都有很多优秀的问题，很多问题最后是“月经问题”，就是提问前不搜直接问的人太多了。</p></li></ol><p>4.别惧怕英文</p><blockquote><p>不惧怕英语的心态能帮你解决很多问题。在提问上，有些技术方向国内是小众搜不到解决方式的，那么可以尝试把问题翻译成英文再google的，我很多问题都是用英文搜索到的；此外，有些解答，你需要看懂，有些文档还没中文的，你需要看，那么就必须硬着头皮看下去的。心态不惧怕，再有字典帮助，没啥的。</p></blockquote><p>GitHub上也有很多优秀的代码，同样需要克服英文才能看到的。</p><h1 id="再思考和尝试"><a href="#再思考和尝试" class="headerlink" title="再思考和尝试"></a>再思考和尝试</h1><p><strong>这一步我单独拎出来说，不管是搜索也好，社区提问也罢，永远不要认为一定可以找到直接解决问题的方式（代码）。</strong></p><p>有时候，搜索引擎帮你找到一些类似的文章或者问题，你虽然不能立马解决你的问题，但是可以从中获得启示，然后加上你自己的思考，亲自做一些尝试，问题可能就被你K.O了。</p><p><u>将一个问题量化成多个小问题，先思考是再哪一个问题上遇到了困难，是什么原因导致的？我有什么好的办法来杜绝这个因素？没有解决的办法后再针对这个原因去搜索对应的文章</u></p><p><strong>一定要先搜索，再尝试，后思考，再搜索尝试思考，直到你觉得是时候提问了。</strong></p><h1 id="组织你的提问"><a href="#组织你的提问" class="headerlink" title="组织你的提问"></a>组织你的提问</h1><p><strong>怎么组织好一个问题，这是提问中最关键的一步，也是很多人忽视的一步，很多问题没做好，导致被忽视或被踩。</strong></p><h2 id="问什么——这个自己一定要清楚"><a href="#问什么——这个自己一定要清楚" class="headerlink" title="问什么——这个自己一定要清楚"></a>问什么——这个自己一定要清楚</h2><p>在提问的时候，自己一定要清楚自己要问什么，<u>是问思路？还是某个功能的代码片段？还是内在原理？是在什么环境中？</u>…要表达清楚，不然答主们都不知道要给什么。</p><p>比如，有人问“我怎么获取第一个p标签啊”，有人回答<code>$(&#39;p&#39;).first()</code>,后来才知道她想在css中获取，应该是<code>p:first-child</code>，这就是没表达清楚。</p><p>比如，我经常在我的技术交流群看到类似问题：<strong>有没有人用过xxx？</strong></p><p>这个问题的答案很简单：<strong>用过&#x2F;没用过</strong>。显然这个并不是提问者想要的<strong>答案</strong>。</p><h2 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h2><p>“各位大神看看…”、“虽然我知道这个问题很基础，但是我还是解决不了，麻烦大家看一看”、“这个怎么balabala,有没有大神做过这个项目”…</p><p><u>如果长篇大论且杂乱无序，如果是你，你有耐心看下去吗？</u></p><p><strong>标题惜字如金，别说废话，浪费他人生命就是谋杀</strong></p><h2 id="问题的描述和最终要实现的目的"><a href="#问题的描述和最终要实现的目的" class="headerlink" title="问题的描述和最终要实现的目的"></a>问题的描述和最终要实现的目的</h2><p><strong>最好把最终是要实现一个什么功能讲清楚，交代好问题背景，是在实现什么功能的路上遇到了问题，然后再描述具体问题。</strong></p><p>然后就到了问题的描述了，<strong>任何问题大致都是为了讲清楚，你要什么，但是你搞不定或者你得到了不一样的奇怪东西或者你的做法不合口味</strong>（报错？不一样的结果？效率不符合预期？太麻烦？…），然后<strong>你要么想知道why，要么想矫正过来达到你的预期</strong>。对的，就把现实（你的懵逼或者你的现有做法）和理想（你的预期）描述清楚就好了。</p><h2 id="尽量写上自己对此已有的思考和尝试"><a href="#尽量写上自己对此已有的思考和尝试" class="headerlink" title="尽量写上自己对此已有的思考和尝试"></a>尽量写上自己对此已有的思考和尝试</h2><p><u>其实，这也是问题描述的一部分，但是这一点非常重要</u>，在segmentfault感受不是特别深（实话），但是在stackoverflow感受特别深，如果你贸然问了一个问题，但是你丝毫不提及你为此已经做的努力，那么很可能在底下的回答中，你就会被“喷”，“你为什么不自己先尝试下呢”，“你该写上你目前做了啥，而不是一味求解答”，然后你的问题可能会被踩…(别问我为什么印象深刻，2333)</p><p><u>所以提出某一个问题的时候，请尽量带上你自己的一些做法，哪怕是错的（肯定是错的，不然你就不会有问题了啊），这样答主们也知道你是思考过这个问题的，也避免了答主们再去尝试你的做法</u>，也可能你的解决其实是对的，但是有一些小问题，修正了就可以了，所以一定要这么做。</p><p><strong>浪费别人的时间，就是浪费自己的时间，降低自己解决问题的成功率</strong></p><h2 id="有要用代码说明的一定要上“减肥后”的代码"><a href="#有要用代码说明的一定要上“减肥后”的代码" class="headerlink" title="有要用代码说明的一定要上“减肥后”的代码"></a>有要用代码说明的一定要上“减肥后”的代码</h2><p>和你的问题直接相关的可能就10多行代码，结果你一定要把你整一个文件的代码都搬上来，华丽丽上百行，看着就累，<strong>更别说代码排版还是混乱的，不对齐的</strong>，看着就没食欲。</p><p><strong>要找到和你认为和你的问题相关的代码，然后有选择地搬上来；另外，可以为了这个问题，构造一个最佳最小化问题，即能说明你的问题的案例代码，使它不至于太臃肿。</strong></p><p><code>提取最能突出问题的核心代码，省略不必要的东西</code></p><h1 id="跟进你的提问"><a href="#跟进你的提问" class="headerlink" title="跟进你的提问"></a>跟进你的提问</h1><p>提问了之后无非是这么几种结局，没人回答的，有人回答但是不够直接的，回答能合理解决问题的，回答的都没解决问题的后来自己解决了的。</p><h2 id="没人回答"><a href="#没人回答" class="headerlink" title="没人回答"></a>没人回答</h2><p>要么你不够耐心，要么你的提问大家没懂，要么你的问题比较小众。</p><p>你需要先反思下自己，自己有没有把问题描述清楚，有没有没有交待的细节，如果这方面没有问题，那么可能你的问题比较小众，可能尝试用英文去搜搜看一些国外的站点。</p><h2 id="没有直接用代码回应"><a href="#没有直接用代码回应" class="headerlink" title="没有直接用代码回应"></a>没有直接用代码回应</h2><p>可能答主只是提供一个思路，那么如果是自己没想到的，可能去试试看，而不是没见到代码就追问“那么这个代码该怎么写呢”，实在不会写，你也可以在问题描述里po一些自己的代码，别伸手就要码。</p><h2 id="及时回复问题下的回答"><a href="#及时回复问题下的回答" class="headerlink" title="及时回复问题下的回答"></a>及时回复问题下的回答</h2><p>不管有没有解决你的问题，对于一些上心的回答，要及时回应，至于一些很水的回答就算了，自己把握，回答的方式能不能解决你的问题，不能是怎么个不能，这样可以让答主回过来审视自己的回答，每个人都有疏忽的时候。</p><p>如果有回答能很好地解决自己的问题，记得及时道谢（一个好习惯而已）和采纳。</p><h2 id="如果是没人有解决方式，后来自己解决了的"><a href="#如果是没人有解决方式，后来自己解决了的" class="headerlink" title="如果是没人有解决方式，后来自己解决了的"></a>如果是没人有解决方式，后来自己解决了的</h2><p>回来补上你的解决之道吧，因为可能相同的问题，世界的某一个角落有人和你一样正在啃指甲…</p><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>遇到问题，先搜一些资料，再思考和尝试，自力更生，丰衣足食，还是解决不了。那就真的是一个问题，好好组织你的提问，把问题背景、具体问题、你的尝试、你的代码交代清楚，最后别个问题就消失，N年后再提个问题再消失…</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Aplayer播放器</title>
      <link href="/posts/b9048e90.html"/>
      <url>/posts/b9048e90.html</url>
      
        <content type="html"><![CDATA[<h1 id="音乐"><a href="#音乐" class="headerlink" title="音乐"></a>音乐</h1><p>音乐界面使用了插件 <code>hexo-tag-aplayer</code><br>使用方法请参考插件文档</p><p>音乐页面只是普通的page页，按普通页面操作生成就行。</p><p>安装 <a href="https://github.com/MoePlayer/hexo-tag-aplayer">hexo-tag-aplayer</a> 这款插件。执行如下指令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-tag-aplayer</span><br></pre></td></tr></table></figure><p>插件配置方式为修改Hexo 的配置文件中进行如下修改。就是你的Hexo根目录下的<code>_config.yml</code>文件。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">aplayer:</span><br><span class="line">  meting: true</span><br><span class="line">  asset_inject: false</span><br></pre></td></tr></table></figure><p>开启主题配置文件中的<code>aplayerInject</code>如下所示</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Inject the css and script (aplayer/meting)</span><br><span class="line">aplayerInject:</span><br><span class="line">  enable: true</span><br><span class="line">  per_page: true</span><br></pre></td></tr></table></figure><blockquote><p>如果你想使用 aplayer，很多人都会推荐安装 hexo-tag-aplayer 这款插件。这款插件通过 Hexo 独有的标签外挂，我们可以很方便的写入一些参数，插件就会帮我们生成对应的 html。如果你只是使用一些简单的功能，其实无需使用到这个插件，只需以 html 格式书写就行，不用插件去转换。</p></blockquote><p>例如：</p><p>如果使用插件，在 markdown 中要这样写</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% meting &quot;000PeZCQ1i4XVs&quot; &quot;tencent&quot; &quot;artist&quot; &quot;theme:#3F51B5&quot; &quot;mutex:true&quot; &quot;preload:auto&quot; %&#125;</span><br></pre></td></tr></table></figure><p>其会被插件渲染为</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;aplayer-uxAIfEUs&quot; class=&quot;aplayer aplayer-tag-marker meting-tag-marker&quot; data-id=&quot;000PeZCQ1i4XVs&quot; data-server=&quot;tencent&quot; data-type=&quot;artist&quot; data-mode=&quot;circulation&quot; data-autoplay=&quot;false&quot; data-mutex=&quot;true&quot; data-listmaxheight=&quot;340px&quot; data-preload=&quot;auto&quot; data-theme=&quot;#3F51B5&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>如果我们不想使用插件，就需要在markdown中用html的格式书写，同时把主题配置文件中的<code>aplayerInject</code>开启</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;aplayer&quot; data-id=&quot;000PeZCQ1i4XVs&quot; data-server=&quot;tencent&quot; data-type=&quot;artist&quot; data-mutex=&quot;true&quot; data-preload=&quot;auto&quot; data-theme=&quot;#3F51B5&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><h2 id="普通界面播放器"><a href="#普通界面播放器" class="headerlink" title="普通界面播放器"></a>普通界面播放器</h2><p>以本博客为例，在博客的音乐页面（\source\music\index.md文件）添加如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% meting &quot;7422861869&quot; &quot;netease&quot; &quot;playlist&quot; &quot;autoplay&quot; &quot;mutex:false&quot; &quot;listmaxheight:400px&quot; &quot;preload:none&quot; &quot;theme:#ad7a86&quot;%&#125;</span><br></pre></td></tr></table></figure><p>常用的选项如下所示:</p><ol><li>server可选：netease（网易云音乐），tencent（QQ音乐），kugou（酷狗音乐），xiami（虾米音乐），baidu（百度音乐）。建议网易云</li><li>type可选：song（歌曲），playlist（歌单），album（专辑），search（搜索关键字），artist（歌手）。添加单曲选的歌曲，歌单选择playlist，可以自行尝试。</li><li>id获取示例: 打开网易云音乐，选择喜欢的歌单，在网页版打开，获取歌单list，填入即可。使用的时候将上边的ID号换为自己喜欢的歌单即可。&#x3D;&#x3D;注意歌单中不能包括VIP音乐，否则无法解析&#x3D;&#x3D;。建议单独建立一个歌单，以后有喜欢的音乐添加进去，网页也会自动同步添加。</li><li>lrcType设置为 -1默认显示歌词，放在fixed模式下比较合适。</li></ol><p>基本上修改的参数以上就已经足够了。ID获取的方式如下。完整的参数表见附录，也可以去参考链接中查看。</p><h2 id="全局吸底Aplayer模式"><a href="#全局吸底Aplayer模式" class="headerlink" title="全局吸底Aplayer模式"></a>全局吸底Aplayer模式</h2><p>把 aplayer代码 插入到主题配置文件的 <code>inject.bottom</code> 即可。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  bottom:</span><br><span class="line">    - &lt;div class=&quot;aplayer no-destroy&quot; data-id=&quot;7765729952&quot; data-server=&quot;netease&quot; data-type=&quot;playlist&quot; data-fixed=&quot;true&quot; data-mini=&quot;true&quot; data-listFolded=&quot;false&quot; data-order=&quot;random&quot; data-preload=&quot;none&quot; data-autoplay=&quot;true&quot; muted&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>需要修改的参数就只有data-id、data-server、data-type、data-autoplay&#x3D;”true”、data-lrcType&#x3D;”-1”一些常用的参数，可以自行根据需要修改。</p><p>最后，如果你想切换页面时，音乐不会中断。请把主题配置文件的 <code>pjax</code> 设为 <code>true</code>即可。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pjax:</span><br><span class="line"> enable: ture</span><br><span class="line"> exclude:</span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/butterfly-aplayer-xidi.gif" alt="music"></p><h2 id="侧边栏Aplayer模式"><a href="#侧边栏Aplayer模式" class="headerlink" title="侧边栏Aplayer模式"></a>侧边栏Aplayer模式</h2><p>在Hexo博客目录中的 <code>source/_data</code>（如果没有 _data 文件夹，请自行创建），创建一个文件 <code>widget.yml</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">top:</span><br><span class="line">  - class_name: # 【可选】所创建的widget父类class名</span><br><span class="line">    id_name:    # 【可选】所创建的widget父类id名</span><br><span class="line">    name:       # 【可选】所创建的widget标题</span><br><span class="line">    icon:       # 【可选】所创建的widget图标</span><br><span class="line">    html:       # 【可选】所创建的widget相关代码</span><br><span class="line"></span><br><span class="line">bottom:</span><br><span class="line">  - class_name:</span><br><span class="line">    id_name:</span><br><span class="line">    name:</span><br><span class="line">    icon:</span><br><span class="line">    order:       # 【可选】所创建的widget排序</span><br><span class="line">    html:</span><br></pre></td></tr></table></figure><blockquote><p>参数详解</p></blockquote><p><strong>top</strong>: 创建的 widget 会出现在非 sticky 区域（即所有页面都会显示)</p><p><strong>bottom</strong>: 创建的 widget 会出现在 sticky 区域（除了文章页都会显示)</p><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>class_name</td><td>所创建的 widget 父类 class 名 （可选）</td></tr><tr><td>id_name</td><td>所创建的 widget 父类 id 名（可选）</td></tr><tr><td>name</td><td>所创建的 widget 标题</td></tr><tr><td>icon</td><td>所创建的 widget 图标</td></tr><tr><td>order</td><td>所创建的 widget 排序 （可选）</td></tr><tr><td>html</td><td>所创建的 widget 相关代码</td></tr></tbody></table><p>创建<code>widget.yml</code>文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bottom:</span><br><span class="line">    - class_name: user-music</span><br><span class="line">      id_name: user-music</span><br><span class="line">      name: 音乐</span><br><span class="line">      icon: fa-solid fa-music</span><br><span class="line">      order:</span><br><span class="line">      html: &#x27;&lt;div class=&quot;aplayer no-destroy&quot; data-id=&quot;7229941629&quot; data-order=&quot;random&quot; data-id=&quot;2044905443&quot; data-server=&quot;netease&quot; data-type=&quot;playlist&quot; data-fixed=&quot;false&quot; data-autoplay=&quot;false&quot; data-volume=&quot;0.6&quot;&gt;&lt;/div&gt;&#x27;</span><br></pre></td></tr></table></figure><p><img src="https://s3.bmp.ovh/imgs/2023/03/11/6f659b296439effa.jpg" alt="侧边栏Aplayer"></p><h2 id="Aplayer完整配置可选参数表"><a href="#Aplayer完整配置可选参数表" class="headerlink" title="Aplayer完整配置可选参数表"></a>Aplayer完整配置可选参数表</h2><ul><li>有关 <code>&#123;% meting %&#125;</code> 的选项列表如下:</li></ul><table><thead><tr><th>选项</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td><strong>必须值</strong></td><td>歌曲 id &#x2F; 播放列表 id &#x2F; 相册 id &#x2F; 搜索关键字</td></tr><tr><td>server</td><td><strong>必须值</strong></td><td>音乐平台: <code>netease</code>, <code>tencent</code>, <code>kugou</code>, <code>xiami</code>, <code>baidu</code></td></tr><tr><td>type</td><td><strong>必须值</strong></td><td><code>song</code>, <code>playlist</code>, <code>album</code>, <code>search</code>, <code>artist</code></td></tr><tr><td>fixed</td><td><code>false</code></td><td>开启固定模式</td></tr><tr><td>mini</td><td><code>false</code></td><td>开启迷你模式</td></tr><tr><td>loop</td><td><code>all</code></td><td>列表循环模式：<code>all</code>, <code>one</code>,<code>none</code></td></tr><tr><td>order</td><td><code>list</code></td><td>列表播放模式： <code>list</code>, <code>random</code></td></tr><tr><td>volume</td><td>0.7</td><td>播放器音量</td></tr><tr><td>lrctype</td><td>0</td><td>歌词格式类型</td></tr><tr><td>listfolded</td><td><code>false</code></td><td>指定音乐播放列表是否折叠</td></tr><tr><td>storagename</td><td><code>metingjs</code></td><td>LocalStorage 中存储播放器设定的键名</td></tr><tr><td>autoplay</td><td><code>true</code></td><td>自动播放，移动端浏览器暂时不支持此功能</td></tr><tr><td>mutex</td><td><code>true</code></td><td>该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</td></tr><tr><td>listmaxheight</td><td><code>340px</code></td><td>播放列表的最大长度</td></tr><tr><td>preload</td><td><code>auto</code></td><td>音乐文件预载入模式，可选项： <code>none</code>, <code>metadata</code>, <code>auto</code></td></tr><tr><td>theme</td><td><code>#ad7a86</code></td><td>播放器风格色彩设置</td></tr></tbody></table><ul><li>官方所示的完整可选配置参数。</li></ul><table><thead><tr><th>Name</th><th align="center">Default</th><th>Description</th></tr></thead><tbody><tr><td>container</td><td align="center">document.querySelector(‘.aplayer’)</td><td>player container</td></tr><tr><td>fixed</td><td align="center">false</td><td>enable fixed mode, <a href="https://aplayer.js.org/#/home?id=fixed-mode">see more details</a></td></tr><tr><td>mini</td><td align="center">false</td><td>enable mini mode, <a href="https://aplayer.js.org/#/home?id=mini-mode">see more details</a></td></tr><tr><td>autoplay</td><td align="center">false</td><td>audio autoplay</td></tr><tr><td>theme</td><td align="center">‘#b7daff’</td><td>main color</td></tr><tr><td>loop</td><td align="center">‘all’</td><td>player loop play, values: ‘all’, ‘one’, ‘none’</td></tr><tr><td>order</td><td align="center">‘list’</td><td>player play order, values: ‘list’, ‘random’</td></tr><tr><td>preload</td><td align="center">‘auto’</td><td>values: ‘none’, ‘metadata’, ‘auto’</td></tr><tr><td>volume</td><td align="center">0.7</td><td>default volume, notice that player will remember user setting, default volume will not work after user set volume themselves</td></tr><tr><td>audio</td><td align="center">-</td><td>audio info, should be an object or object array</td></tr><tr><td>audio.name</td><td align="center">-</td><td>audio name</td></tr><tr><td>audio.artist</td><td align="center">-</td><td>audio artist</td></tr><tr><td>audio.url</td><td align="center">-</td><td>audio url</td></tr><tr><td>audio.cover</td><td align="center">-</td><td>audio cover</td></tr><tr><td>audio.lrc</td><td align="center">-</td><td><a href="https://aplayer.js.org/#/home?id=lrc">see more details</a></td></tr><tr><td>audio.theme</td><td align="center">-</td><td>main color when switching to this audio, it has priority over the above theme</td></tr><tr><td>audio.type</td><td align="center">‘auto’</td><td>values: ‘auto’, ‘hls’, ‘normal’ or other custom type, <a href="https://aplayer.js.org/#/home?id=mse-support">see more details</a></td></tr><tr><td>customAudioType</td><td align="center">-</td><td><a href="https://aplayer.js.org/#/home?id=mse-support">see more details</a></td></tr><tr><td>mutex</td><td align="center">true</td><td>prevent to play multiple player at the same time, pause other players when this player start play</td></tr><tr><td>lrcType</td><td align="center">0</td><td><a href="https://aplayer.js.org/#/home?id=lrc">see more details</a></td></tr><tr><td>listFolded</td><td align="center">false</td><td>indicate whether list should folded at first</td></tr><tr><td>listMaxHeight</td><td align="center">-</td><td>list max height</td></tr><tr><td>storageName</td><td align="center">‘aplayer-setting’</td><td>localStorage key that store player setting</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
            <tag> music </tag>
            
            <tag> Aplayer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客笔记</title>
      <link href="/posts/d87f7e0c.html"/>
      <url>/posts/d87f7e0c.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote><p>这篇笔记用来记录个人博客搭建，主题配置以及主题魔改，适用于我个人，仅供有一定魔改能力的人参考。</p></blockquote><p>萌新推荐：<a href="https://b23.tv/jdVGeOx">合集·Hexo初阶入门教程萌新必备手摸手教学-哔哩哔哩</a></p><h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1><p>首先要安装必要的软件：</p><ul><li>Node.js【必要】</li><li>git【必要】</li><li>Typora【推荐，作为编写博客的<code>Markdown</code>编辑器】</li></ul><p><u>这一步不过多叙述，自行度娘</u></p><h1 id="搭建Hexo"><a href="#搭建Hexo" class="headerlink" title="搭建Hexo"></a>搭建Hexo</h1><p><a href="https://hexo.io/zh-cn/">Hexo官网</a></p><p><a href="https://akilar.top/posts/6ef63e2d/">博客本地搭建教程</a> - Akilar</p><p><a href="https://www.qystu.cc/posts/51935.html#%E6%80%BB%E7%BB%93">hexo史上最全搭建教程</a>- 青云工作室团队</p><ol><li><p>首先需要建立博客文件夹，建议建在非系统盘，例如<code>~D:/Hexo/</code>，那么这个目录就是我们博客的根目录了。<br>因为每个人的命名习惯不同，本帖之后会以<code>[Blogroot]</code>指代博客根目录。</p></li><li><p>使用<code>npm</code>安装<code>Hexo</code>,在<code>[Blogroot]</code>路径下右键-&gt;<strong>Git Bash Here</strong>,输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npmmirror.com</span><br><span class="line">#将npm源替换为阿里的镜像。之后的安装就会迅速很多了。</span><br><span class="line">npm install hexo-cli -g</span><br><span class="line"># hexo-cli 是 hexo的指令集。</span><br><span class="line">hexo init</span><br><span class="line"># 有了指令集以后，使用它的初始化指令来初始化安装Hexo博客。</span><br></pre></td></tr></table></figure></li><li><p>安装插件，依然是在<code>[Blogroot]</code>路径下右键-&gt;<strong>Git Bash Here</strong>，使用<code>npm</code>指令挑选需要的插件安装。(请仔细阅读注释，确定你是否需要安装这个插件)。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-index --save</span><br><span class="line"># 主页插件，最新版Hexo默认安装，可跳过</span><br><span class="line">npm install hexo-generator-archive --save</span><br><span class="line"># 归档插件，最新版Hexo默认安装，可跳过</span><br><span class="line">npm install hexo-generator-category --save</span><br><span class="line"># 分类插件，最新版Hexo默认安装，可跳过</span><br><span class="line">npm install hexo-generator-tag --save</span><br><span class="line"># 标签插件，最新版Hexo默认安装，可跳过</span><br><span class="line">npm install hexo-server --save</span><br><span class="line"># 服务插件，最新版Hexo默认安装，可跳过</span><br><span class="line">npm install hexo-renderer-marked --save</span><br><span class="line"># markdown渲染支持插件，最新版Hexo默认安装，可跳过</span><br><span class="line">npm install hexo-renderer-stylus --save</span><br><span class="line"># nib css支持插件，如无需求，可跳过</span><br><span class="line">npm install hexo-generator-feed --save</span><br><span class="line"># RSS订阅支持插件，如无需求，可跳过</span><br><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line"># sitemap生成插件，帮助搜索引擎抓取，如无需求，可跳过</span><br><span class="line">npm install hexo-admin --save</span><br><span class="line"># 网页端hexo文档管理插件，如无需求，可跳过</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line"># git部署插件，必须安装</span><br></pre></td></tr></table></figure></li><li><p>常用命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">#清空缓存</span><br><span class="line">hexo generate</span><br><span class="line">hexo g #简写</span><br><span class="line">#重新编译</span><br><span class="line">hexo server</span><br><span class="line">hexo s #简写</span><br><span class="line">#打开本地访问</span><br><span class="line">hexo new &lt;layout&gt; &quot;文章title&quot;</span><br><span class="line">#新建文章</span><br><span class="line">hexo deploy</span><br><span class="line">hexo d #简写</span><br><span class="line">#部署到云端</span><br></pre></td></tr></table></figure></li><li><p>本地预览：在<code>[Blogroot]</code>路径下右键-&gt;<strong>Git Bash Here</strong>，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/04/09/AomUuq.png" alt="dos"></p><p>然后在浏览器中打开<code>localhost:4000</code> ,就能看到</p><p><img src="https://s2.ax1x.com/2019/04/11/A7DdZq.png" alt="预览"></p><p>如果你安装了<code>hexo-admin</code>插件，就可以通过访问<code>localhost:4000/admin</code>来管理你的文章了。并且在可视化界面中操作文章内容。恭喜你，博客的本地部署到这里算是告一段落了。</p></li><li><p>文件夹目录结构</p><ul><li>node_modules: 依赖包</li><li>public：存放生成的页面</li><li>scaffolds：生成文章的一些模板</li><li>source：用来存放你的文章</li><li>themes：主题</li><li>_config.yml: 博客的配置文件</li></ul></li></ol><h1 id="博客设计方向"><a href="#博客设计方向" class="headerlink" title="博客设计方向"></a>博客设计方向</h1><p><a href="https://blog.zhheo.com/p/30c885b3.html">我应该怎么设计我的博客？如何搭建一个体验好的博客？ (opens new window)</a>- 张洪Heo</p><ol><li>「通过搜索关键词来快速找到曾经写过的文章，方便找到解决方案」。</li><li>每一个功能，都需要有需求来支撑。<strong>先有需求，再有功能</strong></li><li><strong>文章才是博客的基石</strong>，没有文章的博客不仅没有别人进来的入口，还会敞开出口的大门。</li><li>一个好的域名，com或者cn，尽可能短一些，这不仅可以缩短你的链接长度，还可以增强记忆的可能性。</li><li>域名备案。只要你是在中国提供服务，那么就要备案。没有备案寸步难行。</li><li>搭建在国内服务器。如果针对的对象是<strong>中国用户</strong>，那么可能对于百度的搜索需求会更高一些，如果搭建在国内服务器上，要远比你搭建在vercel和githubpage上更容易抓取。</li><li>稳定的服务。<strong>用户每次点击链接都进入一个404或者503，那么用户这次点击就是个糟糕的体验</strong></li><li>足够快的加载时间。</li><li>起一个好标题。<ul><li>「<strong>用户搜索什么内容来看我的文章</strong>」</li><li>「<strong>用户看见这个标题就有点击的欲望</strong>」</li><li>「<strong>让用户更有可能按照我的标题来搜索</strong>」</li><li>搜索权重是：<strong>越接近搜索内容的网页排名越高</strong></li></ul></li></ol><h1 id="Hexo-博客生成永久链接"><a href="#Hexo-博客生成永久链接" class="headerlink" title="Hexo 博客生成永久链接"></a>Hexo 博客生成永久链接</h1><p><a href="https://imbhj.com/b6a99401/">Hexo 博客生成永久链接</a> -Ordis</p><blockquote><p>Hexo 文章链接默认的生成规则是：<code>:year/:month/:day/:title</code>，是按照年、月、日、标题来生成的。</p><p>这样的话，生成的链接非常长长长长长，而且如果我们的 Markdown 使用中文标题，那就更惨了，URL 一转码，将是一场灾难。</p><p>更难受的是如果我们修改了文章的日期或者标题，那么将导致链接改变，别人或者你分享出去的文章就会 404，这非常的蛋疼啊，所以就有了这种插件，不论你如何修改文章的日期、名称，只要不改变 footer-matter 中的 id 值，那么文章链接永远不会变。</p></blockquote><ol><li><p>安装插件</p><p><code>npm install hexo-abbrlink --save</code></p></li><li><p>使用</p><p>修改 <code>_config.yml</code> ：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">## permalink: :year/:month/:day/:title/</span><br><span class="line">permalink: posts/:abbrlink.html  ## 此处可以自己设置</span><br></pre></td></tr></table></figure></li><li><p>增加以下配置：（还是这个 yml）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">## abbrlink config</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32      #support crc16(default) and crc32 进制</span><br><span class="line">  rep: hex        #support dec(default) and hex  算法</span><br><span class="line">  drafts: false   #(true)Process draft,(false)Do not process draft. false(default) </span><br><span class="line">  ## Generate categories from directory-tree</span><br><span class="line">  ## depth: the max_depth of directory-tree you want to generate, should &gt; 0</span><br><span class="line">  auto_category:</span><br><span class="line">     enable: true  #true(default)</span><br><span class="line">     depth:        #3(default)</span><br><span class="line">     over_write: false </span><br><span class="line">  auto_title: false #enable auto title, it can auto fill the title by path</span><br><span class="line">  auto_date: false #enable auto date, it can auto fill the date by time today</span><br><span class="line">  force: false #enable force mode,in this mode, the plugin will ignore the cache, and calc the abbrlink for every post even it already had abbrlink.</span><br></pre></td></tr></table></figure><p>其他配置意义可查看插件文档，<a href="https://github.com/Rozbo/hexo-abbrlink">hexo-abbrlink</a>。</p><p>记着要先 <code>hexo clean</code> 再 <code>hexo g</code> </p><p>生成的链接示意：</p><p><img src="https://imbhj-cdn.oss-cn-hangzhou.aliyuncs.com/CDN/20200802135553.png" alt="预览"></p></li></ol><h1 id="创建文章"><a href="#创建文章" class="headerlink" title="创建文章"></a>创建文章</h1><p><a href="https://hexo.io/zh-cn/docs/writing">新建一篇文章</a> - Jayhrn</p><ol><li><p>你可以执行下列命令来创建一篇新文章或者新的页面。</p><p><code>hexo new [layout] &lt;title&gt;</code></p><p>您可以在命令中指定文章的布局（layout），默认为 <code>post</code>，可以通过修改 <code>_config.yml</code> 中的 <code>default_layout</code> 参数来指定默认布局。</p><p><code>hexo new post test</code> </p><p><img src="https://s3.bmp.ovh/imgs/2023/03/04/e547294527e66d14.png" alt="dos"></p><p><code>hexo new paper</code></p><p>它其实默认使用的是post这个布局，也就是在source文件夹下的_post里面。</p></li><li><h3 id="布局（Layout）"><a href="#布局（Layout）" class="headerlink" title="布局（Layout）"></a>布局（Layout）</h3><p>Hexo 有三种默认布局：<code>post</code>、<code>page</code> 和 <code>draft</code>。在创建这三种不同类型的文件时，它们将会被保存到不同的路径；而您自定义的其他布局和 <code>post</code> 相同，都将储存到 <code>source/_posts</code> 文件夹。</p><table><thead><tr><th align="center">布局</th><th align="center">路径</th></tr></thead><tbody><tr><td align="center">post</td><td align="center">source&#x2F;_posts</td></tr><tr><td align="center">page</td><td align="center">source</td></tr><tr><td align="center">draft</td><td align="center">source&#x2F;_drafts</td></tr></tbody></table><p><strong>page布局</strong>：hexo new page test</p><p>如果你想创建页面，那么可以使用这个指令</p><p>系统会自动给你在source文件夹下创建一个test文件夹，以及test文件夹中的index.md，这样你访问的test对应的链接就是<a href="http://xxx.xxx/test">http://xxx.xxx/test</a></p><p><img src="https://s3.bmp.ovh/imgs/2023/03/04/e547294527e66d14.png" alt="布局"></p><p><strong>draft布局</strong>：<code>hexo new draft test</code></p><p><img src="https://s3.bmp.ovh/imgs/2023/03/04/e547294527e66d14.png" alt="布局"></p></li><li><h3 id="文件名称"><a href="#文件名称" class="headerlink" title="文件名称"></a>文件名称</h3><p>Hexo 默认以标题做为文件名称，但您可编辑 <code>new_post_name</code> 参数来改变默认的文件名称，举例来说，设为 <code>:year-:month-:day-:title.md</code> 可让您更方便的通过日期来管理文章。</p><table><thead><tr><th align="center">变量</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">:title</td><td align="center">标题（小写，空格将会被替换为短杠）</td></tr><tr><td align="center">:year</td><td align="center">建立的年份，比如， <code>2015</code></td></tr><tr><td align="center">:month</td><td align="center">建立的月份（有前导零），比如， <code>04</code></td></tr><tr><td align="center">:i_month</td><td align="center">建立的月份（无前导零），比如， <code>4</code></td></tr><tr><td align="center">:day</td><td align="center">建立的日期（有前导零），比如， <code>07</code></td></tr><tr><td align="center">:i_day</td><td align="center">建立的日期（无前导零），比如， <code>7</code></td></tr></tbody></table></li><li><h3 id="草稿"><a href="#草稿" class="headerlink" title="草稿"></a>草稿</h3><p>刚刚提到了 Hexo 的一种特殊布局：<code>draft</code>，这种布局在建立时会被保存到 <code>source/_drafts</code> 文件夹，您可通过 <code>publish</code> 命令将草稿移动到 <code>source/_posts</code> 文件夹，该命令的使用方式与 <code>new</code> 十分类似，您也可在命令中指定 <code>layout</code> 来指定布局。</p><p><code>hexo publish [layout] &lt;title&gt;</code></p><p>草稿默认不会显示在页面中，您可在执行时加上 <code>--draft</code> 参数，或是把 <code>render_drafts</code> 参数设为 <code>true</code> 来预览草稿。</p><p>修改 <strong>配置文件</strong>_config.yml</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">render_drafts: true</span><br></pre></td></tr></table></figure></li><li><h3 id="模版（Scaffold）"><a href="#模版（Scaffold）" class="headerlink" title="模版（Scaffold）"></a>模版（Scaffold）</h3><p>在新建文章时，Hexo 会根据 <code>scaffolds</code> 文件夹内相对应的文件来建立文件，例如：</p><p><code>hexo new photo &quot;My Gallery&quot;</code></p><p>在执行这行指令时，Hexo 会尝试在 <code>scaffolds</code> 文件夹中寻找 <code>photo.md</code>，并根据其内容建立文章，以下是您可以在模版中使用的变量：</p><table><thead><tr><th align="center">变量</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">layout</td><td align="center">布局</td></tr><tr><td align="center">title</td><td align="center">标题</td></tr><tr><td align="center">date</td><td align="center">文件建立日期</td></tr></tbody></table></li><li><h3 id="支持的格式"><a href="#支持的格式" class="headerlink" title="支持的格式"></a>支持的格式</h3><p>Hexo 支持以任何格式书写文章，只要安装了相应的渲染插件。</p><p>例如，Hexo 默认安装了 <code>hexo-renderer-marked</code> 和 <code>hexo-renderer-ejs</code>，因此你不仅可以用 Markdown 写作，你还可以用 EJS 写作。如果你安装了 <code>hexo-renderer-pug</code>，你甚至可以用 Pug 模板语言书写文章。</p><p>只需要将文章的扩展名从 <code>md</code> 改成 <code>ejs</code>，Hexo 就会使用 <code>hexo-renderer-ejs</code> 渲染这个文件，其他格式同理。</p></li></ol><h1 id="GitHub创建个人仓库"><a href="#GitHub创建个人仓库" class="headerlink" title="GitHub创建个人仓库"></a>GitHub创建个人仓库</h1><h4 id="访问官网按照指示注册github账号-github"><a href="#访问官网按照指示注册github账号-github" class="headerlink" title="访问官网按照指示注册github账号:github"></a>访问官网按照指示注册github账号:<a href="https://github.com/">github</a></h4><p>新建<code>username.github.io</code>仓库:</p><p>注册成功后，在github首页单击头像-&gt;Your repositories</p><p>在自己的 GitHub 账号下创建一个新的仓库，命名为 <code>username.github.io</code>（username是你的账号名)。</p><ol><li><p>科普：为什么要命名为username.github.io？</p><blockquote><p>在这里，要知道，<code>GitHub Pages</code>有两种类型：<code>User/Organization Pages</code> 和 <code>Project Pages</code>，而我所使用的是 <code>User Pages</code>。<br>简单来说，<code>User Pages</code> 与 <code>Project Pages</code> 的区别是：</p><ul><li><code>User Pages</code> 是用来展示用户的，而 <code>Project Pages</code> 是用来展示项目的。</li><li>用于存放<code>User Pages</code>的仓库必须使用 <code>username.github.io</code> 的命名规则，而 <code>Project Pages</code>则没有特殊的要求。</li><li><code>User Pages</code>通过<code>https://username.github.io</code>进行访问，而<code>Projects Pages</code>通过<code>https://username.github.io/projectname</code>进行访问。</li></ul></blockquote><p><a href="https://akilar.top/posts/6ef63e2d/">科普：为什么要命名为username.github.io？</a></p></li></ol><h4 id="配置Git与GitHub"><a href="#配置Git与GitHub" class="headerlink" title="配置Git与GitHub:"></a>配置<code>Git</code>与<code>GitHub</code>:</h4><ol><li><p>此处为全局配置，所以可以在任意位置打开<strong>git bash</strong>,设置用户名称和邮件地址</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;akilarlxh&quot;</span><br><span class="line">git config --global user.email &quot;akilarlxh@gmail.com&quot;</span><br></pre></td></tr></table></figure></li><li><p>设置完成后为了能够在本地使用<code>git</code>管理<code>github</code>上的项目，需要绑定<code>SSHkey</code>。<u>在这里我没有去设置绑定SSHkey，后续推送到远程仓库我是通过HTTPS。</u></p></li></ol><h4 id="配置hexo部署插件内容："><a href="#配置hexo部署插件内容：" class="headerlink" title="配置hexo部署插件内容："></a>配置hexo部署插件内容：</h4><ol><li><p>确保你安装了<code>hexo-deployer-git</code>,如果没有，在<code>[Blogroot]</code>路径下右键-&gt;Git Bash Here，输入：</p><p><code>npm install hexo-deployer-git --save</code></p><p>打开<code>[Blogroot]/_config.yml</code>,修改底部的<code>deploy</code>配置项。如果没有找到<code>deploy</code>配置项,则自己添加：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 站点部署到github要配置Deployment</span><br><span class="line">## Docs: https://zespia.tw/hexo/docs/deploy.html</span><br><span class="line">deploy:</span><br><span class="line">  type: &#x27;git&#x27;</span><br><span class="line">  repo: https://github.com/Lgq-sys/Lgq-sys.github.io.git</span><br><span class="line">  branch: main</span><br></pre></td></tr></table></figure><p>推荐查看最新版<a href="https://www.npmjs.com/package/hexo-deployer-git">hexo-deployer-git</a>的配置项写法，现在的写法只适用于2023.3.4号，不清楚后续写法是否会更新。</p><blockquote><p>这里<code>deploy</code>前面不要有<code>空格</code>，而所有<code>:</code>后面都要有空格。对齐缩进情况要严格按照示例来写。<code>yml</code>编译对缩进要求很严格，所以格式很重要。</p></blockquote></li></ol><h4 id="把本地hexo博客内容提交到git仓库"><a href="#把本地hexo博客内容提交到git仓库" class="headerlink" title="把本地hexo博客内容提交到git仓库"></a>把本地<code>hexo</code>博客内容提交到<code>git</code>仓库</h4><ol><li><p>若以上内容已经准确配置，在<code>[Blogroot]</code>路径下右键-&gt;Git Bash Here，输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></li><li><p>不出意外，就可以在浏览器上输入<code>https://username.github.io</code>访问你的博客了。</p></li><li><p>记得替换<code>username</code>为自己的用户名。</p></li></ol><h1 id="源码存放方案"><a href="#源码存放方案" class="headerlink" title="源码存放方案"></a>源码存放方案</h1><blockquote><p>按照我现在的方式进行<strong>双分支部署</strong>，虽然可以在一个仓库内同时管理博客源码和博客生成的网页文件，但是基于<code>gitpage</code>必须是开放的性质，你的博客源码将是完全开源的，任何人都能通过<code>git clone</code>拷贝你的博客源码，唯一的区别就是在没有绑定<code>SSH Key</code>的情况下他们不可能提交到你的库内。所以，对源码有保密需求的，可以参照另一种方式另外新建一个保密仓库作为源码存放库。</p></blockquote><div class="tabs" id="tab"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tab-1">源码开源，双分支部署</button></li><li class="tab"><button type="button" data-href="#tab-2">源码保密，仅开源网页</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tab-1"><p>应用场景：<u>利用git的分支系统进行多终端工作了，这样每次打开不一样的电脑，只需要进行简单的配置和在github上把文件同步下来，就可以无缝操作了。</u></p><ul><li><h4 id="机制"><a href="#机制" class="headerlink" title="机制"></a>机制</h4><blockquote><p><strong>机制是这样的，由于hexo d上传部署到github的其实是hexo编译后的文件，是用来生成网页的，不包含源文件。</strong></p><p><strong>也就是上传的是在本地目录里自动生成的.deploy_git里面。</strong></p><p><strong>其他文件 ，包括我们写在source 里面的，和配置文件，主题文件，都没有上传到github</strong></p><p><strong>所以可以利用git的分支管理，将源文件上传到github的另一个分支即可。</strong></p></blockquote><ul><li><h4 id="上传分支"><a href="#上传分支" class="headerlink" title="上传分支"></a>上传分支</h4></li></ul><ol><li><p>先在github上新建一个source分支</p><p><img src="https://s2.ax1x.com/2019/04/10/ATZKcn.png" alt="新建分支"></p></li><li><p>然后把source设置为默认分支。（这样每次同步的时候就不用指定分支，比较方便）。</p><p><img src="https://s2.ax1x.com/2019/04/10/ATZu1s.png" alt="设置默认分支"></p></li><li><p>然后在本地的任意目录下，打开git bash，</p><p><code>git clone git@github.com:yorame/yourname.github.io.git</code></p><p>将其克隆到本地，因为默认分支已经设成了source，所以clone时只clone了source。</p><p>这一步会在你的博客目录下新建一个<code>.git</code>文件夹。因为是隐藏文件夹，所以需要你先确保当前目录下隐藏文件夹可见才能看到它。</p><p>接下来在克隆到本地的yourname.github.io中，把除了.git 文件夹外的所有文件都删掉</p></li><li><p>把之前我们写的博客源文件全部复制过来，除了.deploy_git。这里应该说一句，复制过来的源文件应该有一个.gitignore，用来忽略一些不需要的文件，这样可以显著减少需要提交的文件量和加快提交速度。打开<code>[Blogroot]/.gitignore</code>（也是隐藏文件）如果没有的话，自己新建一个,输入以下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br><span class="line">.deploy_git*/</span><br><span class="line">.idea</span><br><span class="line">themes/butterfly/.git</span><br></pre></td></tr></table></figure><p>注意，如果你之前克隆过theme中的主题文件，那么应该把主题文件中的.git文件夹删掉，因为git不能嵌套上传，最好是显示隐藏文件，检查一下有没有，否则上传的时候会出错，导致你的主题文件无法上传，这样你的配置在别的电脑上就用不了了。</p></li><li><p>然后尝试第一次提交你的目录到远程仓库,依然是在<code>[Blogroot]</code>路径下右键-&gt;Git Bash Here，输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 添加文件到本地仓库</span><br><span class="line">git add .</span><br><span class="line"># 添加文件描述信息</span><br><span class="line">git commit -m &quot;自定义内容即可&quot;</span><br><span class="line"># 添加远程仓库地址,链接远程仓库(如果是HTTPS,应使用HTTPS推送)，创建主分支</span><br><span class="line">git remote add origin git@github.com:username/username.github.io.git</span><br><span class="line"># 要是提示origin已经存在，那么执行</span><br><span class="line">git remote rm origin</span><br><span class="line"># 然后再次尝试</span><br><span class="line">git remote add origin git@github.com:username/username.github.io.git</span><br><span class="line"># 把远程仓库的新增的内容覆盖到本地仓库</span><br><span class="line">git pull origin source</span><br><span class="line"># 把本地仓库的文件推送到远程仓库</span><br><span class="line">git push -u origin source -f</span><br><span class="line"># 强制提交，主要是因为前后版本不一致造成的，</span><br><span class="line"># 然后执行以下任意一条生成网站并部署到 GitHub 上。</span><br><span class="line">hexo generate -d</span><br><span class="line">hexo g -d</span><br></pre></td></tr></table></figure><p>这样就上传完了，可以去你的github上看一看source分支有没有上传上去，其中node_modules、public、db.json已经被忽略掉了，没有关系，不需要上传的，因为在别的电脑上需要重新输入命令安装 。</p><blockquote><p>在 <code>GitHub</code> 上的 <code>username.github.io</code> 仓库就有两个分支，<br>一个 <code>source</code> 分支用来存放网站的原始文件，<br>一个 <code>main</code> 分支用来存放生成的静态网页。</p></blockquote></li><li><p>更换电脑操作</p><p>一样的，跟之前的环境搭建一样</p><ol><li><p>安装git</p></li><li><p>设置git全局邮箱和用户名</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;yourgithubname&quot;</span><br><span class="line">git config --global user.email &quot;yourgithubemail&quot;</span><br></pre></td></tr></table></figure></li><li><p>设置ssh key | HTTPS</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;youremail&quot;</span><br><span class="line">#生成后填到github和coding上（有coding平台的话）</span><br><span class="line">#验证是否成功</span><br><span class="line">ssh -T git@github.com</span><br><span class="line">ssh -T git@git.coding.net #(有coding平台的话)</span><br></pre></td></tr></table></figure></li><li><p>安装nodejs</p></li><li><p>安装hexo</p><p><code>npm install hexo-cli -g</code></p><p>但是已经不需要初始化了，直接在任意文件夹下，</p><p><code>git clone git@………………</code></p></li><li><p>然后进入克隆到的文件夹：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install //下载node_modules</span><br><span class="line">npm install hexo-deployer-git --save //下载git推送插件</span><br></pre></td></tr></table></figure></li><li><p>生成，部署</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure></li><li><p>不要忘了，每次写完最好都把源文件上传一下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">首先执行指令：将改动推送到 GitHub</span><br><span class="line">git add .</span><br><span class="line">git commit –m &quot;xxxx&quot;</span><br><span class="line">git push</span><br><span class="line">然后才执行</span><br><span class="line">hexo c</span><br><span class="line">hexo g -d</span><br></pre></td></tr></table></figure></li><li><p>如果是在已经编辑过的电脑上，已经有clone文件夹了，那么，每次只要和远端同步一下就行了</p><p><code>git pull</code></p></li></ol></li></ol></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-2"><ol><li><p>创建存放源码的私有仓库</p><p>我们需要创建一个用来存放<code>Hexo</code>博客源码的私有仓库<code>[SourceRepo]</code>，这点在<a href="https://akilar.top/posts/6ef63e2d/">Win10</a>的<code>Hexo</code>博客搭建教程中有提到。</p><p><img src="https://npm.elemecdn.com/akilar-candyassets/image/PZ7wmiuX8ae9rVK.png" alt="闭源"></p><p>创建完成后，需要把博客的源码<code>push</code>到这里。首先获取远程仓库地址，此处虽然<code>SSH</code>和<code>HTTPS</code>均可。<code>SSH</code>在绑定过<code>ssh key</code>的设备上无需再输入密码，<code>HTTPS</code>则需要输入密码，但是<code>SSH</code>偶尔会遇到端口占用的情况。请自主选择。</p><p><img src="https://npm.elemecdn.com/akilar-candyassets/image/mpdUYJKcfWLQ2Eg.png" alt="推送方式"></p><p>注意：在创建远程仓库时，最好不要点选生成<code>README.md</code>或者<code>license</code>的选项，否则会遇到远端内容不一致的问题。</p></li><li><p>第二步，我和Akilar的步骤不一样，他是在一个新文件夹中<code>git init</code>。我是直接在原来存放博客源码的文件夹中删除远程仓库地址，然后添加新的闭源仓库地址。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 删除旧的仓库地址</span><br><span class="line">git remote rm origin</span><br><span class="line"># 然后添加新的地址</span><br><span class="line">https://github.com/username/username.github.io.git</span><br><span class="line"># 创建main分支</span><br><span class="line">git checkout -b main</span><br><span class="line"># 把本地仓库的文件推送到远程仓库的主分支</span><br><span class="line">git push -u origin YourBranchName -f</span><br><span class="line"># 删除source分支</span><br><span class="line">git branch -d source</span><br></pre></td></tr></table></figure></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h1><p>为了能够使用自己的域名访问我们的博客，需要再进行域名绑定：</p><ol><li><p>首先要获取博客当前默认域名的<code>IP</code>,打开<code>cmd</code>或者<code>powershell</code>，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping username.github.io</span><br><span class="line"># username记得替换成你的用户名</span><br></pre></td></tr></table></figure></li><li><p>获取到的<code>ip</code>地址填入域名解析。</p><p>这里以腾讯云为例。进入控制台-&gt;域名注册-&gt;我的域名。在购买的域名的操作栏选择解析。</p><p><img src="https://npm.elemecdn.com/akilar-candyassets/image/20200723101044570.png" alt="域名解析"></p></li><li><p>进入解析页面后需要添加两条记录。</p><p><img src="https://npm.elemecdn.com/akilar-candyassets/image/20200723101444765.png" alt="添加记录"></p><blockquote><p>关于为什么要添加两条记录。此处有必要说明一下，实质起作用的其实是第一条<code>A</code>记录，而第二条<code>CNAME</code>记录指向的其实是<code>www</code>的二级域名。例如此处指向<code>www.akilar.top</code>。然后当有人用<code>www.akilar.top</code>访问时，会重定向到<code>akilar.top</code>。emmm,虽然看起来有点多此一举啦，但是<a href="https://android99.me/">@安卓大佬</a>说这样可以提升访问成功几率。毕竟很多人习惯在域名前面敲个<code>www</code>。</p></blockquote></li><li><p>在<code>[Blogroot]\source\</code>目录下新建<code>CNAME</code>文件（注意不要有后缀名，就叫<code>CNAME</code>即可，什么<code>.txt</code>、<code>.js</code>之类的后缀都不能有），在<code>CNAME</code>文件中添加上你购买的域名。</p><p><img src="https://npm.elemecdn.com/akilar-candyassets/image/20200723101906965.png" alt="创建CNAME"></p><p>注意：如果不执行这一步，直接执行第5步，下次本地推送到远程库，会覆盖之前的内容，导致域名访问失败。</p></li><li><p>配置<code>username.github.io</code>仓库。</p><p>打开<code>username.github.io</code>，点击仓库页面右上角的setting</p><p><img src="https://npm.elemecdn.com/akilar-candyassets/image/20200723102148239.png" alt="setting"></p><p>下拉找到Github Pages栏，在Custom domain中填入你购买的域名。</p><p><img src="https://npm.elemecdn.com/akilar-candyassets/image/20200723102314604.png" alt="github Pages"></p></li><li><p>最后，重新部署一下<code>hexo</code>即可通过你的域名来访问博客了。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo depoly</span><br></pre></td></tr></table></figure></li></ol><h1 id="指令脚本"><a href="#指令脚本" class="headerlink" title="指令脚本"></a>指令脚本</h1><div class="tabs" id="tab"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tab-1">普通版</button></li><li class="tab"><button type="button" data-href="#tab-2">升级版</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tab-1"><p>在<code>[Blogroot]</code>文件夹下新建三个<code>txt</code>文件，分别命名为<code>git-pull</code>、<code>git-push</code>、<code>hexo-publish</code>,打开后依次在里面输入相应的命令。</p><p>git-pull（用来从远程仓库拉取最新更改，适用于多PC或多系统端之间的版本对接）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure><p>git-push（用于提交每次的修改到远程仓库）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;deploy from hexo-admin&quot;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure><p>hexo-publish（清空本地缓存后重新部署博客页面）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>之后将<code>.txt</code>后缀更改为<code>.sh</code>后缀，就是一个可执行脚本了。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-2"><p>在hexo根目录<code>[blogroot]/</code>下新建一个脚本文件：<code>menu.sh</code>,将以下内容复制进去</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">#本脚本用于群友交流，完全开源，可以随意传阅，不过希望保留出处。</span><br><span class="line">#Author：Akilar</span><br><span class="line">#Modify:Hajeekn(SL)</span><br><span class="line">#Updated: 2021-08-09</span><br><span class="line">echo &quot;==================================================&quot;</span><br><span class="line">echo &quot;              欢迎使用Hexo控制脚本!&quot;</span><br><span class="line">echo &quot;                更方便的魔改版本&quot;</span><br><span class="line">echo &quot;==================================================&quot;</span><br><span class="line">HexoPath=$(cd &quot;$(dirname &quot;$0&quot;)&quot;; pwd)</span><br><span class="line">cd $&#123;HexoPath&#125;</span><br><span class="line">printf &quot;\033[32m Blog 根目录：&quot;$&#123;HexoPath&#125;&quot;\033[0m\n&quot;</span><br><span class="line"></span><br><span class="line">printf &quot;\033[32m [0] \033[0m 退出菜单\n&quot;</span><br><span class="line">printf &quot;\033[31m =============以下功能需要在空文件夹内使用========\033[0m\n&quot;</span><br><span class="line">printf &quot;\033[32m [1] \033[0m 初始化安装Hexo（仅在第一次安装时使用）\n&quot;</span><br><span class="line">printf &quot;\033[32m [2] \033[0m 从云端恢复Hexo\n&quot;</span><br><span class="line">printf &quot;\033[31m =============以下功能需要在Hexo文件夹内使用======\033[0m\n&quot;</span><br><span class="line">printf &quot;\033[32m [3] \033[0m 开启本地预览\n&quot;</span><br><span class="line">printf &quot;\033[32m [4] \033[0m 重新编译后开启本地预览\033[33m（修改过_config.yml需使用这个才能看到变化）\033[0m\n&quot;</span><br><span class="line">printf &quot;\033[32m [5] \033[0m 新建博客文章\n&quot;</span><br><span class="line">printf &quot;\033[32m [6] \033[0m 新建博客页面\n&quot;</span><br><span class="line">printf &quot;\033[32m [7] \033[0m 部署页面到博客网站\n&quot;</span><br><span class="line">printf &quot;\033[32m [8] \033[0m 从Github拉取最新版本\n&quot;</span><br><span class="line">printf &quot;\033[32m [9] \033[0m 提交本地修改到GitHub\n&quot;</span><br><span class="line">printf &quot;\033[32m [10] \033[0m 升级Hexo及插件\033[31m（慎用）\033[0m\n&quot;</span><br><span class="line">printf &quot;\033[32m [11] \033[0m 重新安装依赖\n&quot;</span><br><span class="line">printf &quot;\033[32m [12] \033[0m 安装butterfly主题\n&quot;</span><br><span class="line">printf &quot;\033[32m [13] \033[0m 安装volantis主题\n&quot;</span><br><span class="line">printf &quot;\033[32m [14] \033[0m 安装Hexo-Admin \033[33m(用于管理或撰写Hexo博文，适合初学者使用)\033[0m\n&quot;</span><br><span class="line">printf &quot;\033[31m =============以下功能为全局指令==================\033[0m\n&quot;</span><br><span class="line">printf &quot;\033[32m [15] \033[0m 安装ssh密钥\n&quot;</span><br><span class="line">printf &quot;\033[32m [16] \033[0m 验证ssh密钥\n&quot;</span><br><span class="line">printf &quot;\033[32m [17] \033[0m 切换npm源为阿里镜像\033[33m (当使用publish命令时会出现错误,适用于不发布包的人)\033[0m\n&quot;</span><br><span class="line">printf &quot;\033[32m [18] \033[0m 切换npm源为官方源\033[33m (安装慢,但可以使用所有命令)\033[0m\n&quot;</span><br><span class="line">printf &quot;\033[32m [19] \033[0m 安装 Git\n&quot;</span><br><span class="line">printf &quot;\033[32m [20] \033[0m 安装 Node.js\n&quot;</span><br><span class="line">printf &quot;请选择需要的功能，默认选择\033[32m [3] \033[0m开启本地预览\n&quot;</span><br><span class="line">printf &quot;选择：\n&quot;</span><br><span class="line">read answer</span><br><span class="line"></span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;1&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在初始化,请坐和放宽...\n&quot;</span><br><span class="line">mkdir Hexo</span><br><span class="line">cd Hexo</span><br><span class="line">npm config set registry https://registry.npmmirror.com</span><br><span class="line">npm install -g hexo-cli</span><br><span class="line">hexo init</span><br><span class="line">npm install --save</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 请查看您当前的Hexo版本...\n&quot;</span><br><span class="line">hexo version</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 安装完成，您可以开始您的Hexo之旅了！\n&quot;</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 请将本脚本文件放入Hexo文件夹以继续使用其他功能！\n&quot;</span><br><span class="line">sleep 5s</span><br><span class="line">printf &quot;\033[32mINFO \033[0m \033[33m请将本脚本文件放入Hexo文件夹以继续使用其他功能！\033[0m\n&quot;</span><br><span class="line">sleep 5s</span><br><span class="line">printf &quot;\033[32mINFO \033[0m \033[31m请将本脚本文件放入Hexo文件夹以继续使用其他功能！\033[0m\n&quot;</span><br><span class="line">sleep 5s</span><br><span class="line">exit 0</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;2&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 启动拉取器 ...\n&quot;</span><br><span class="line">printf &quot;请输入仓库源码地址: &quot;</span><br><span class="line">read giturl</span><br><span class="line">git clone $&#123;giturl&#125; Hexo</span><br><span class="line">cd Hexo</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 恢复Hexo中...\n&quot;</span><br><span class="line">npm config set registry https://registry.npmmirror.com</span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"># npm install gulp-cli -g #全局安装gulp，未配置不用开启</span><br><span class="line">npm install --save</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 恢复完成，您可以开始您的Hexo之旅了！\n&quot;</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 请将本脚本文件放入Hexo文件夹以继续使用其他功能！\n&quot;</span><br><span class="line">sleep 5s</span><br><span class="line">printf &quot;\033[32mINFO \033[0m \033[33m请将本脚本文件放入Hexo文件夹以继续使用其他功能！\033[0m\n&quot;</span><br><span class="line">sleep 5s</span><br><span class="line">printf &quot;\033[32mINFO \033[0m \033[31m请将本脚本文件放入Hexo文件夹以继续使用其他功能！\033[0m\n&quot;</span><br><span class="line">sleep 5s</span><br><span class="line">exit 0</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;3&quot; ] || [ &quot;$&#123;answer&#125;&quot; = &quot;&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在启动本地预览，可以按Ctrl+C退出\n&quot;</span><br><span class="line">hexo s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;4&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在清理本地缓存...\n&quot;</span><br><span class="line">hexo clean</span><br><span class="line"># printf &quot;\033[32mINFO \033[0m 正在更新番剧列表...\n&quot;</span><br><span class="line"># hexo bangumi -u #bilibili追番插件，未配置无需开启</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在重新编译静态页面...\n&quot;</span><br><span class="line">hexo generate</span><br><span class="line"># printf &quot;\033[32mINFO \033[0m 正在压缩静态资源...\n&quot;</span><br><span class="line"># gulp #gulp插件，未配置无需开启</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在开启本地预览，可以按Ctrl+C退出\n&quot;</span><br><span class="line">hexo server</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;5&quot; ] || [ &quot;$&#123;answer&#125;&quot; = &quot;&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 请输入您想要新建的文章标题\n&quot;</span><br><span class="line">printf &quot;\033[32mINFO \033[0m \033[33m标题中的各类标点符号和空格，请用短横\&quot;-\&quot;代替！\033[0m\n&quot;</span><br><span class="line">printf &quot;您的文章标题：&quot;</span><br><span class="line">read posttitle</span><br><span class="line">hexo new post $&#123;posttitle&#125;</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 新建完成，正在尝试为您打开文章文件\n&quot;</span><br><span class="line">start $&#123;HexoPath&#125;/source/_posts/$&#123;posttitle&#125;.md</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;6&quot; ] || [ &quot;$&#123;answer&#125;&quot; = &quot;&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 请输入您想要新建的页面名称\n&quot;</span><br><span class="line">printf &quot;\033[32mINFO \033[0m \033[33m名称中的各类标点符号和空格，请用短横\&quot;-\&quot;代替！\033[0m\n&quot;</span><br><span class="line">printf &quot;您的页面名称：&quot;</span><br><span class="line">read pagename</span><br><span class="line">hexo new page $&#123;pagename&#125;</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 新建完成，正在尝试为您打开页面文件\n&quot;</span><br><span class="line">start $&#123;HexoPath&#125;/source/$&#123;pagename&#125;/index.md</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;7&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在清理本地缓存...\n&quot;</span><br><span class="line">hexo clean</span><br><span class="line"># printf &quot;\033[32mINFO \033[0m 正在更新番剧列表...\n&quot;</span><br><span class="line"># hexo bangumi -u #bilibili追番插件，未配置无需开启</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在重新编译静态页面...\n&quot;</span><br><span class="line">hexo generate</span><br><span class="line"># printf &quot;\033[32mINFO \033[0m 正在压缩静态资源...\n&quot;</span><br><span class="line"># gulp #gulp插件，未配置无需开启</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在准备将最新修改部署至Hexo...\n&quot;</span><br><span class="line">hexo deploy</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 部署完成，您的网站已经是最新版本！\n&quot;</span><br><span class="line">sleep 1s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;8&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在启动拉取器...\n&quot;</span><br><span class="line">printf &quot;请输入分支名: &quot;</span><br><span class="line">read branch</span><br><span class="line">git pull origin $branch</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 拉取完毕，您的博客已是最新版本！\n&quot;</span><br><span class="line">sleep 1s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;9&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在提交最新修改到GitHub...\n&quot;</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;Update posts content&quot;</span><br><span class="line">git push origin $branch</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 提交完毕，您的修改已上传至Github！\n&quot;</span><br><span class="line">sleep 1s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;10&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 请先确认当前版本 ...\n&quot;</span><br><span class="line">hexo version</span><br><span class="line">sleep 3s</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 即将为您全局升级hexo-cli...\n&quot;</span><br><span class="line">npm install hexo-cli -g</span><br><span class="line">printf &quot;\033[32mINFO \033[0m hexo-cli升级完成，请查看当前版本。\n&quot;</span><br><span class="line">hexo version</span><br><span class="line">sleep 3s</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 即将为您升级npm-check...\n&quot;</span><br><span class="line">npm install -g npm-check</span><br><span class="line">printf &quot;\033[32mINFO \033[0m npm-check升级完成！\n&quot;</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在使用npm-check检查系统是否有可升级插件...\n&quot;</span><br><span class="line">npm-check</span><br><span class="line">sleep 3s</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 即将为您升级npm-upgrade...\n&quot;</span><br><span class="line">npm install -g npm-upgrade</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在使用npm-upgrade升级插件...\n&quot;</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 您可以在接下来的过程中主动选择是否升级插件\n&quot;</span><br><span class="line">npm-upgrade</span><br><span class="line">sleep 1s</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在为您保存升级结果...\n&quot;</span><br><span class="line">npm update -g</span><br><span class="line">npm update --save</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 恭喜您，您的Hexo已经是最新版本\n&quot;</span><br><span class="line">sleep 2s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;11&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在清空当前依赖环境 ...\n&quot;</span><br><span class="line">rm node_modules</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在清空当前依赖关系锁定 ...\n&quot;</span><br><span class="line">rm package-lock.json</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在清空当前依赖关系缓存 ...\n&quot;</span><br><span class="line">npm cache clean --force</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在将npm源替换为阿里云镜像 ...\n&quot;</span><br><span class="line">npm config set registry https://registry.npmmirror.com</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在重新安装当前依赖环境 ...\n&quot;</span><br><span class="line">npm install</span><br><span class="line">sleep 2s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;12&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在为您下载最新稳定版butterfly主题 ...\n&quot;</span><br><span class="line">git clone -b master https://gitee.com/iamjerryw/hexo-theme-butterfly.git themes/butterfly</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在为您安装必要依赖！\n&quot;</span><br><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 安装完成，感谢您对butterfly的支持！\n&quot;</span><br><span class="line">sleep 1s</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 请在/Hexo/_config.yml中将theme修改为butterfly以激活主题！\n&quot;</span><br><span class="line">sleep 3s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;13&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在为您下载最新稳定版volantis主题 ...\n&quot;</span><br><span class="line">git clone https://github.com/volantis-x/hexo-theme-volantis themes/volantis</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在安装本地搜索必要依赖！\n&quot;</span><br><span class="line">npm install hexo-generator-search --save</span><br><span class="line">npm install hexo-generator-json-content --save</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在安装页面渲染必要依赖！\n&quot;</span><br><span class="line">npm install hexo-renderer-stylus --save</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 安装完成，感谢您对volantis的支持！\n&quot;</span><br><span class="line">sleep 1s</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 请在/Hexo/_config.yml中将theme修改为volantis以激活主题！\n&quot;</span><br><span class="line">sleep 3s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;14&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在为您下载Hexo-Admin插件 ...\n&quot;</span><br><span class="line">npm install hexo-admin --save</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 安装完成，即将为您启动本地预览！\n&quot;</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 请访问 http://localhost:4000/admin/ 进行博文编辑！\n&quot;</span><br><span class="line">sleep 2s</span><br><span class="line">hexo server</span><br><span class="line">sleep 1s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line"></span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;15&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在启动Git工具...\n&quot;</span><br><span class="line">printf &quot;请输入 GitHub 用户名: &quot;</span><br><span class="line">read githubuser</span><br><span class="line">printf &quot;请输入 GitHub 邮箱: &quot;</span><br><span class="line">read githubemail</span><br><span class="line">git config --global user.name &quot;$githubuser&quot;</span><br><span class="line">git config --global user.email &quot;$githubemail&quot;</span><br><span class="line">ssh-keygen -t rsa -C $githubemail</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 即将打开sshkey，复制后可按 Ctrl+D 返回...\n&quot;</span><br><span class="line">sleep 2s</span><br><span class="line">less ~/.ssh/id_rsa.pub</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 配置完成，请将sshkey添加到Github！\n&quot;</span><br><span class="line">sleep 1s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;16&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在验证SSHkey是否配置成功 ...\n&quot;</span><br><span class="line">ssh -T git@github.com</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 验证完毕，您的SSHkey已成功绑定至Github！\n&quot;</span><br><span class="line">sleep 1s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;17&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在查询当前npm源 ...\n&quot;</span><br><span class="line">npm config get registry</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在将npm源替换为阿里云镜像 ...\n&quot;</span><br><span class="line">npm config set registry https://registry.npmmirror.com</span><br><span class="line">sleep 2s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;18&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在查询当前npm源 ...\n&quot;</span><br><span class="line">npm config get registry</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 正在将npm源替换为官方源 ...\n&quot;</span><br><span class="line">npm config set registry https://registry.npmjs.org</span><br><span class="line">sleep 2s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;19&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 安装 Git 暂不支持linux、macos,如果你是linux或macos用户,请使用系统自带的包管理器安装 ...\n&quot;</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 启动下载器 ...\n&quot;</span><br><span class="line">printf &quot;安装默认使用32包,如果要安装64请更改sh源码或手动将32替换为64 ...\n&quot;</span><br><span class="line">mkdir temp</span><br><span class="line">cd temp</span><br><span class="line">certutil -urlcache -split -f https://npmmirror.com/mirrors/git-for-windows/v2.32.0.windows.2/Git-2.32.0.2-32-bit.exe</span><br><span class="line">./Git-2.32.0.2-32-bit.exe</span><br><span class="line">rm -r temp</span><br><span class="line">printf &quot;安装完成&quot;</span><br><span class="line">sleep 2s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;20&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 安装 Node.js 暂不支持linux、macos,如果你是linux或macos用户,请使用系统自带的包管理器安装 ...\n&quot;</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 启动下载器 ...\n&quot;</span><br><span class="line">printf &quot;安装默认使用32包,如果要安装64请更改sh源码或手动将32替换为64 ...\n&quot;</span><br><span class="line">mkdir temp</span><br><span class="line">cd temp</span><br><span class="line">certutil -urlcache -split -f https://npmmirror.com/mirrors/node/latest-v12.x/node-v12.22.3-x86.msi</span><br><span class="line">./node-v12.22.3-x86.msi</span><br><span class="line">cd ../</span><br><span class="line">rm -r temp</span><br><span class="line">printf &quot;安装完成&quot;</span><br><span class="line">sleep 2s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">else</span><br><span class="line">if [ &quot;$&#123;answer&#125;&quot; = &quot;0&quot; ]; then</span><br><span class="line">printf &quot;\033[32mINFO \033[0m 欢迎下次光临！\n&quot;</span><br><span class="line">sleep 1s</span><br><span class="line">exit 0</span><br><span class="line">else</span><br><span class="line">printf &quot;\033[31mERROR \033[0m 输入错误，请返回重新选择...\n&quot;</span><br><span class="line">sleep 1s</span><br><span class="line">exec $&#123;HexoPath&#125;/menu.sh</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>复制后记得按照注释信息修改个人账户和邮箱。<br>界面效果如下：</p><p><img src="https://npm.elemecdn.com/akilar-candyassets/image/97a817ce.png" alt="效果"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="选择主题"><a href="#选择主题" class="headerlink" title="选择主题"></a>选择主题</h1><p><a href="https://butterfly.js.org/">挑选你的主题</a> -Jerry</p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p><strong>hexo-theme-butterfly</strong>是基于 <a href="https://github.com/Molunerfinn/hexo-theme-melody">hexo-theme-melody</a> 的基础上进行开发的。</p><ul><li><p>npm安装</p><blockquote><p>此方法只支持 Hexo 5.0.0 以上版本</p><p><strong>通过 npm 安装并不会在 themes 里生成主题文件夹，而是在 node_modules 里生成</strong></p></blockquote></li><li><p>在你的 Hexo 根目录里</p><p><code>npm i hexo-theme-butterfly</code></p><blockquote><p>升级方法：在 Hexo 根目录下，运行 npm update hexo-theme-butterfly</p></blockquote></li></ul><h3 id="应用主题"><a href="#应用主题" class="headerlink" title="应用主题"></a>应用主题</h3><ul><li><p>修改 Hexo 根目录下的 _config.yml，把主题改为butterfly</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: butterfly</span><br></pre></td></tr></table></figure></li><li><p>安装插件</p><p>如果你没有 pug 以及 stylus 的渲染器，请下载安装：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure></li><li><p>升级建议</p><blockquote><p>升级完成后，请到 Github 的 <a href="https://github.com/jerryc127/hexo-theme-butterfly/releases">Releases</a> 界面 或者 <a href="">文档七</a> 查看新版的更新内容。</p><p>里面有标注 <code>_config</code> 文件的变更内容（如有），请根据实际情况更新你的配置内容。</p></blockquote><p>为了减少升级主题后带来的不便，请使用以下方法（<strong>建议，可以不做</strong>）。</p><p>在 hexo 的根目录创建一个文件 <code>_config.butterfly.yml</code>，并把<strong>主题</strong>目录的 <code>_config.yml</code>内容复制到 <code>config.butterfly.yml</code> 去。( 注意: 复制的是thems文件夹下的 <code>_config.yml</code> ,而不是 <strong>hexo</strong> 文件夹下的 _config.yml)</p><blockquote><p>注意： 不要把主题目录的 <code>_config.yml</code> 删掉</p></blockquote><blockquote><p>注意： 以后只需要在 <code>_config.butterfly.yml</code>进行配置就行。<br>如果使用了 <code>_config.butterfly.yml</code>， 配置主题的 <code>_config.yml</code> 将不会有效果。</p></blockquote><p>Hexo会自动<strong>合并</strong>主题中的<code>_config.yml</code>和 <em><code>config.butterfly.yml</code>里的配置，如果存在同名配置，会使用</em><code>config.butterfly.yml</code>的配置，其优先度较高。</p><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/butterfly-docs-install-suggestion-1.png"></p></li></ul><h3 id="语言"><a href="#语言" class="headerlink" title="语言"></a>语言</h3><p>修改站点配置文件 <code>_config.yml</code></p><p>默认语言是 en</p><p>主题支持三种语言</p><ul><li>default(en)</li><li>zh-CN (简体中文)</li><li>zh-TW (繁体中文)</li></ul><h3 id="网站资料"><a href="#网站资料" class="headerlink" title="网站资料"></a>网站资料</h3><p>修改网站各种资料，例如标题、副标题和邮箱等个人资料，请修改博客根目录的<code>_config.yml</code></p><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/20191120000444.png" alt="网站资料"></p><h3 id="Front-matter"><a href="#Front-matter" class="headerlink" title="Front-matter"></a>Front-matter</h3><p>butterfly文档：<a href="https://butterfly.js.org/posts/dc584b87/#Front-matter">Front-matter配置</a></p><p><strong>Front-matter</strong> 是 <strong>markdown</strong> 文件最上方以 <code>---</code> 分隔的区域，用于指定个别档案的变数。</p><ol><li>Page Front-matter 用于<code>页面</code>配置</li><li>Post Front-matter 用于<code>文章页</code>配置</li></ol><blockquote><p>如果标注<code>可选</code>的参数，可根据自己需要添加，不用全部都写在markdown里</p></blockquote><h4 id="Page-Front-matter"><a href="#Page-Front-matter" class="headerlink" title="Page Front-matter"></a>Page Front-matter</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">type:</span><br><span class="line">comments:</span><br><span class="line">description:</span><br><span class="line">keywords:</span><br><span class="line">top_img:</span><br><span class="line">mathjax:</span><br><span class="line">katex:</span><br><span class="line">aside:</span><br><span class="line">aplayer:</span><br><span class="line">highlight_shrink:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><table><thead><tr><th>写法</th><th>解释</th></tr></thead><tbody><tr><td>title</td><td>【必需】页面标题</td></tr><tr><td>date</td><td>【必需】页面创建日期</td></tr><tr><td>type</td><td>【必需】标签、分类和友情链接三个页面需要配置</td></tr><tr><td>updated</td><td>【可选】页面更新日期</td></tr><tr><td>description</td><td>【可选】页面描述</td></tr><tr><td>keywords</td><td>【可选】页面关键字</td></tr><tr><td>comments</td><td>【可选】显示页面评论模块(默认 true)</td></tr><tr><td>top_img</td><td>【可选】页面顶部图片</td></tr><tr><td>mathjax</td><td>【可选】显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>katex</td><td>【可选】显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr><tr><td>aplayer</td><td>【可选】在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置</td></tr><tr><td>highlight_shrink</td><td>【可选】配置代码框是否展开(true&#x2F;false)(默认为设置中highlight_shrink的配置)</td></tr></tbody></table><h4 id="Post-Front-matter"><a href="#Post-Front-matter" class="headerlink" title="Post Front-matter"></a>Post Front-matter</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top_img:</span><br><span class="line">comments:</span><br><span class="line">cover:</span><br><span class="line">toc:</span><br><span class="line">toc_number:</span><br><span class="line">toc_style_simple:</span><br><span class="line">copyright:</span><br><span class="line">copyright_author:</span><br><span class="line">copyright_author_href:</span><br><span class="line">copyright_url:</span><br><span class="line">copyright_info:</span><br><span class="line">mathjax:</span><br><span class="line">katex:</span><br><span class="line">aplayer:</span><br><span class="line">highlight_shrink:</span><br><span class="line">aside:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><table><thead><tr><th>写法</th><th>解释</th></tr></thead><tbody><tr><td>title</td><td>【必需】文章标题</td></tr><tr><td>date</td><td>【必需】文章创建日期</td></tr><tr><td>updated</td><td>【可选】文章更新日期</td></tr><tr><td>tags</td><td>【可选】文章标签</td></tr><tr><td>categories</td><td>【可选】文章分类</td></tr><tr><td>keywords</td><td>【可选】文章关键字</td></tr><tr><td>description</td><td>【可选】文章描述</td></tr><tr><td>top_img</td><td>【可选】文章顶部图片</td></tr><tr><td>cover</td><td>【可选】文章缩略图(如果没有设置top_img,文章页顶部将显示缩略图，可设为false&#x2F;图片地址&#x2F;留空)</td></tr><tr><td>comments</td><td>【可选】显示文章评论模块(默认 true)</td></tr><tr><td>toc</td><td>【可选】显示文章TOC(默认为设置中toc的enable配置)</td></tr><tr><td>toc_number</td><td>【可选】显示toc_number(默认为设置中toc的number配置)</td></tr><tr><td>toc_style_simple</td><td>【可选】显示 toc 简洁模式</td></tr><tr><td>copyright</td><td>【可选】显示文章版权模块(默认为设置中post_copyright的enable配置)</td></tr><tr><td>copyright_author</td><td>【可选】文章版权模块的文章作者</td></tr><tr><td>copyright_author_href</td><td>【可选】文章版权模块的文章作者链接</td></tr><tr><td>copyright_url</td><td>【可选】文章版权模块的文章连结链接</td></tr><tr><td>copyright_info</td><td>【可选】文章版权模块的版权声明文字</td></tr><tr><td>mathjax</td><td>【可选】显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>katex</td><td>【可选】显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>aplayer</td><td>【可选】在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置</td></tr><tr><td>highlight_shrink</td><td>【可选】配置代码框是否展开(true&#x2F;false)(默认为设置中highlight_shrink的配置)</td></tr><tr><td>aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr></tbody></table><h3 id="标签页"><a href="#标签页" class="headerlink" title="标签页"></a>标签页</h3><ol><li><p>前往你的 Hexo 博客的根目录</p></li><li><p>输入<code>hexo new page tags</code></p></li><li><p>你会找到<code>source/tags/index.md</code>这个文件</p></li><li><p>修改这个文件：</p><p>记得添加 <code>type: &quot;tags&quot;</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2018-01-05 00:00:00</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">orderby: random</span><br><span class="line">order: 1</span><br><span class="line">---</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">参数</th><th align="left">解释</th></tr></thead><tbody><tr><td align="left">type</td><td align="left">【必须】页面类型，必须为 <code>tags</code></td></tr><tr><td align="left">orderby</td><td align="left">【可选】排序方式 ：random&#x2F;name&#x2F;length</td></tr><tr><td align="left">order</td><td align="left">【可选】排序次序： 1, asc for ascending; -1, desc for descending</td></tr></tbody></table></li></ol><h3 id="给文章添加标签"><a href="#给文章添加标签" class="headerlink" title="给文章添加标签"></a>给文章添加标签</h3><ul><li>例如我要给<code>Hello-world</code>这篇文章添加标签，打开<code>[Blogroot]/sources/_posts/Hello-world.md</code>,修改他的头部内容为：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  ---</span><br><span class="line">  title: Hello-World</span><br><span class="line">  date: 2019-04-07 00:38:36</span><br><span class="line">  categories: 学习笔记</span><br><span class="line">+ tags: [node.js, hexo]  # 逗号是英文逗号</span><br><span class="line">  ---</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>第二种写法是用-短划线列出来</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  ---</span><br><span class="line">  title: Hello-World</span><br><span class="line">  date: 2019-04-07 00:38:36</span><br><span class="line">  categories: 学习笔记</span><br><span class="line">+ tags:</span><br><span class="line">+   - node.js # 注意短线后有空格</span><br><span class="line">+   - 📁Hexo</span><br><span class="line">  ---</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="分类页"><a href="#分类页" class="headerlink" title="分类页"></a>分类页</h3><ol><li><p>前往你的 Hexo 博客的根目录</p></li><li><p>输入<code>hexo new page categories</code></p></li><li><p>你会找到<code>source/categories/index.md</code>这个文件</p></li><li><p>修改这个文件：</p><p>记得添加 <code>type: &quot;categories&quot;</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2018-01-05 00:00:00</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure></li></ol><h3 id="给文章添加分类"><a href="#给文章添加分类" class="headerlink" title="给文章添加分类"></a>给文章添加分类</h3><p>例如我要给<code>Hello-world</code>这篇文章添加分类，打开<code>[Blogroot]/sources/_posts/Hello-woeld.md</code>,修改他的头部内容为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  ---</span><br><span class="line">  title: Hello-World</span><br><span class="line">  date: 2019-04-07 00:38:36</span><br><span class="line">+ categories: 学习笔记</span><br><span class="line">  tags: [node.js, hexo]</span><br><span class="line">  ---</span><br></pre></td></tr></table></figure><h3 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h3><p>修改<code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  # Home: / || fas fa-home</span><br><span class="line">  # Archives: /archives/ || fas fa-archive</span><br><span class="line">  # Tags: /tags/ || fas fa-tags</span><br><span class="line">  # Categories: /categories/ || fas fa-folder-open</span><br><span class="line">  # List||fas fa-list:</span><br><span class="line">  #   Music: /music/ || fas fa-music</span><br><span class="line">  #   Movie: /movies/ || fas fa-video</span><br><span class="line">  # Link: /link/ || fas fa-link</span><br><span class="line">  # About: /about/ || fas fa-heart</span><br><span class="line">    首页: / || fas fa-home</span><br><span class="line">    时间轴: /archives/ || fas fa-archive</span><br><span class="line">    标签: /tags/ || fas fa-tags</span><br><span class="line">    分类: /categories/ || fas fa-folder-open</span><br><span class="line">    清单||fas fa-list:</span><br><span class="line">      音乐: /music/ || fas fa-music</span><br><span class="line">      照片: /Gallery/ || fas fa-images</span><br><span class="line">      电影: /movies/ || fas fa-video</span><br><span class="line">    友链: /link/ || fas fa-link</span><br><span class="line">    关于: /about/ || fas fa-heart</span><br></pre></td></tr></table></figure><p>必须是 <code>/xxx/</code>，后面<code>||</code>分开，然后写图标名。</p><p>如果不希望显示图标，图标名可不写。</p><p><strong>注意：</strong>导航的文字可自行更改</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">    首页: / || fas fa-home</span><br><span class="line">    时间轴: /archives/ || fas fa-archive</span><br><span class="line">    标签: /tags/ || fas fa-tags</span><br><span class="line">    分类: /categories/ || fas fa-folder-open</span><br><span class="line">    清单||fas fa-list:</span><br><span class="line">      音乐: /music/ || fas fa-music</span><br><span class="line">      照片: /Gallery/ || fas fa-images</span><br><span class="line">      电影: /movies/ || fas fa-video</span><br><span class="line">    友链: /link/ || fas fa-link</span><br><span class="line">    关于: /about/ || fas fa-heart</span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-menu.png" alt="导航菜单"></p><h3 id="导航栏设置"><a href="#导航栏设置" class="headerlink" title="导航栏设置"></a>导航栏设置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nav:</span><br><span class="line">  logo: #image</span><br><span class="line">  display_title: true</span><br><span class="line">  fixed: false # fixed navigation bar</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">参数</th><th align="center">解释</th></tr></thead><tbody><tr><td align="center">logo</td><td align="center">网站的 logo，支持图片，直接填入图片链接</td></tr><tr><td align="center">display_title</td><td align="center">是否显示网站标题，填写 true 或者 false</td></tr><tr><td align="center">fixed</td><td align="center">是否固定状态栏，填写 true 或者 false</td></tr></tbody></table><h3 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h3><h4 id="创建友情链接页面"><a href="#创建友情链接页面" class="headerlink" title="创建友情链接页面"></a>创建友情链接页面</h4><ol><li><p>前往你的 Hexo 博客的根目录</p></li><li><p>输入 <code>hexo new page link</code></p></li><li><p>你会找到<code>source/link/index.md</code>这个文件</p></li><li><p>修改这个文件</p><p>记得添加 <code>type: &quot;link&quot;</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友情链接</span><br><span class="line">date: 2018-06-07 22:17:49</span><br><span class="line">type: &quot;link&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure></li></ol><h4 id="友情链接添加"><a href="#友情链接添加" class="headerlink" title="友情链接添加"></a>友情链接添加</h4><div class="tabs" id="tab"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tab-1">本地生成</button></li><li class="tab"><button type="button" data-href="#tab-2">远程拉取</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tab-1"><h5 id="本地生成"><a href="#本地生成" class="headerlink" title="本地生成"></a>本地生成</h5><p>在Hexo博客目录中的<code>source/_data</code>（如果没有 _data 文件夹，请自行创建），创建一个文件<code>link.yml</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">- class_name: 友情链接</span><br><span class="line">  class_desc: 那些人，那些事</span><br><span class="line">  link_list:</span><br><span class="line">    - name: Hexo</span><br><span class="line">      link: https://hexo.io/zh-tw/</span><br><span class="line">      avatar: https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg</span><br><span class="line">      descr: 快速、简单且强大的网志框架</span><br><span class="line"></span><br><span class="line">- class_name: 网站</span><br><span class="line">  class_desc: 值得推荐的网站</span><br><span class="line">  link_list:</span><br><span class="line">    - name: Youtube</span><br><span class="line">      link: https://www.youtube.com/</span><br><span class="line">      avatar: https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png</span><br><span class="line">      descr: 视频网站</span><br><span class="line">    - name: Weibo</span><br><span class="line">      link: https://www.weibo.com/</span><br><span class="line">      avatar: https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png</span><br><span class="line">      descr: 中国最大社交分享平台</span><br><span class="line">    - name: Twitter</span><br><span class="line">      link: https://twitter.com/</span><br><span class="line">      avatar: https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png</span><br><span class="line">      descr: 社交分享平台</span><br></pre></td></tr></table></figure><p><code>class_name</code> 和 <code>class_desc</code> 支持 html 格式书写，如不需要，也可以留空。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-2"><h5 id="远程拉取"><a href="#远程拉取" class="headerlink" title="远程拉取"></a>远程拉取</h5><p>从 <code>4.0.0</code> 开始，支持从远程加载友情链接，远程拉取只支持 <code>json</code>。</p><p>注意： 选择远程加载后，本地生成的方法会无效。</p><p>在 <code>source/link/index.md</code> 这个文件的 front-matter 添加远程链接</p><p><code>flink_url: xxxxx</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友链</span><br><span class="line">date: 2023-02-27 18:58:33</span><br><span class="line">type: &quot;link&quot;</span><br><span class="line">flink_url: /resources/json-data/link.json</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>Json 的格式</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;class_name&quot;: &quot;友情链接&quot;,</span><br><span class="line">    &quot;class_desc&quot;: &quot;那些人，那些事&quot;,</span><br><span class="line">    &quot;link_list&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;name&quot;: &quot;Hexo&quot;,</span><br><span class="line">        &quot;link&quot;: &quot;https://hexo.io/zh-tw/&quot;,</span><br><span class="line">        &quot;avatar&quot;: &quot;https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg&quot;,</span><br><span class="line">        &quot;descr&quot;: &quot;快速、简单且强大的网志框架&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;class_name&quot;: &quot;网站&quot;,</span><br><span class="line">    &quot;class_desc&quot;: &quot;值得推荐的网站&quot;,</span><br><span class="line">    &quot;link_list&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;name&quot;: &quot;Youtube&quot;,</span><br><span class="line">        &quot;link&quot;: &quot;https://www.youtube.com/&quot;,</span><br><span class="line">        &quot;avatar&quot;: &quot;https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png&quot;,</span><br><span class="line">        &quot;descr&quot;: &quot;视频网站&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;name&quot;: &quot;Weibo&quot;,</span><br><span class="line">        &quot;link&quot;: &quot;https://www.weibo.com/&quot;,</span><br><span class="line">        &quot;avatar&quot;: &quot;https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png&quot;,</span><br><span class="line">        &quot;descr&quot;: &quot;中国最大社交分享平台&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;name&quot;: &quot;Twitter&quot;,</span><br><span class="line">        &quot;link&quot;: &quot;https://twitter.com/&quot;,</span><br><span class="line">        &quot;avatar&quot;: &quot;https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png&quot;,</span><br><span class="line">        &quot;descr&quot;: &quot;社交分享平台&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="友情链接界面设置"><a href="#友情链接界面设置" class="headerlink" title="友情链接界面设置"></a>友情链接界面设置</h4><p>由 2.2.0 起，友情链接界面可以由用户自己自定义，只需要在友情链接的md文档设置就行，以普通的Markdown格式书写。</p><h3 id="图库"><a href="#图库" class="headerlink" title="图库"></a>图库</h3><p>图库页面只是普通的页面，你只需要<code>hexo n page xxxxx</code> 创建你的页面就行</p><p>然后使用标签外挂 <a href="https://butterfly.js.org/posts/4aa8abbe/#Gallery%E7%9B%B8%E5%86%8A%E5%9C%96%E5%BA%AB">galleryGroup</a></p><h4 id="子页面"><a href="#子页面" class="headerlink" title="子页面"></a>子页面</h4><h5 id="标签外挂（Tag-Plugins）"><a href="#标签外挂（Tag-Plugins）" class="headerlink" title="标签外挂（Tag Plugins）"></a>标签外挂（Tag Plugins）</h5><blockquote><p>标签外挂是Hexo独有的功能，并不是标准的Markdown格式。</p><p>以下的写法，只适用于Butterfly主题，用在其它主题上不会有效果，甚至可能会报错。使用前请留意</p></blockquote><blockquote><p>标签外挂虽然能为主题带来一些额外的功能和UI方面的强化，但是，标签外挂也有明显的限制，使用时请留意。</p></blockquote><h6 id="Gallery相册图库"><a href="#Gallery相册图库" class="headerlink" title="Gallery相册图库"></a>Gallery相册图库</h6><blockquote><p>2.0.0 以上提供</p></blockquote><p>区别于旧版的Gallery相册,新的 Gallery 相册会自动根据图片长度进行排版，书写也更加方便，与 markdown 格式一样。可根据需要插入到相应的 md。一个图库集合。</p><table><thead><tr><th align="left">参数</th><th align="left">解释</th></tr></thead><tbody><tr><td align="left">lazyload</td><td align="left">可选】点击按钮加载更多图片，填写 true&#x2F;false。默认为 <code>false</code>。</td></tr><tr><td align="left">rowHeight</td><td align="left">【可选】图片显示的高度，如果需要一行显示更多的图片，可设置更小的数字。默认为 <code>220</code>。</td></tr><tr><td align="left">limit</td><td align="left">【可选】每次加载多少张照片。默认为 <code>10</code>。</td></tr></tbody></table><blockquote><p>示例</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown 图片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% gallery true,220,10 %&#125;</span><br><span class="line">markdown 图片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% gallery true,,10 %&#125;</span><br><span class="line">markdown 图片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;gallery-group-main&quot;&gt;</span><br><span class="line">    &#123;% gallery %&#125;</span><br><span class="line">    ![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)</span><br><span class="line">    ![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)</span><br><span class="line">    ![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)</span><br><span class="line">    ![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)</span><br><span class="line">    ![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)</span><br><span class="line">    ![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)</span><br><span class="line">    ![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)</span><br><span class="line">    ![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)</span><br><span class="line">    &#123;% endgallery %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><div class="gallery">    <div class="fj-gallery  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg","alt":""}]</span>    </div>    <button class="gallery-load-more"><span>加载更多</span><i class="fa-solid fa-arrow-down"></i></button>    </div><h3 id="404页面"><a href="#404页面" class="headerlink" title="404页面"></a>404页面</h3><p>主题内置了一个简单的404页面，可在设置中开启</p><blockquote><p>本地预览时，访问出错的网站是不会跳到404页面的。</p><p>如需本地预览，请访问<a href="http://localhost:4000/404.html">http://localhost:4000/404.html</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># A simple 404 page</span><br><span class="line">error_404:</span><br><span class="line">  enable: true</span><br><span class="line">  subtitle: &quot;页面没有找到&quot;</span><br><span class="line">  background: </span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-error404.png" alt="404页面"></p><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><blockquote><p>代码块中的所有功能只适用于 Hexo 自带的代码渲染</p><p>如果使用第三方的渲染器，不一定会有效</p></blockquote><h4 id="代码高亮主题"><a href="#代码高亮主题" class="headerlink" title="代码高亮主题"></a>代码高亮主题</h4><p><code>Butterfly</code> 支持6种代码高亮样式：</p><ol><li>darker</li><li>pale night</li><li>light</li><li>ocean</li><li>mac</li><li>mac light</li></ol><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_theme: light</span><br></pre></td></tr></table></figure><blockquote><p>light</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-light.png" alt="light"></p><h4 id="代码复制"><a href="#代码复制" class="headerlink" title="代码复制"></a>代码复制</h4><p>主题支持代码复制功能</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_copy: true</span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-copy.png" alt="copy"></p><h4 id="代码高度限制"><a href="#代码高度限制" class="headerlink" title="代码高度限制"></a>代码高度限制</h4><blockquote><p>3.7.0 及以上支持</p></blockquote><p>可配置代码高度限制，超出的部分会隐藏，并显示展开按钮。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_height_limit: 200 # unit: px</span><br></pre></td></tr></table></figure><p>注意：</p><ul><li><p>单位是 <strong>px</strong>，直接添加数字，如 200</p></li><li><p>实际限制高度为 <strong>highlight_height_limit + 30 px</strong> ，多增加 30px 限制，目的是避免代码高度只超出highlight_height_limit 一点时，出现展开按钮，展开没内容。</p></li><li><p>不适用于隐藏后的代码块（ css 设置 display: none）</p><p><img src="https://file.crazywong.com/gh/jerryc127/CDN@m2/img/hexo-theme-butterfly-docs-highlight-heigh-limit.gif" alt="代码高度限制"></p></li></ul><h3 id="复制相关配置"><a href="#复制相关配置" class="headerlink" title="复制相关配置"></a>复制相关配置</h3><p>可配置网站是否可以复制、复制的内容是否添加版权信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># copy settings</span><br><span class="line"># copyright: Add the copyright information after copied content (复制的内容后面加上版权信息)</span><br><span class="line">copy:</span><br><span class="line">  enable: true</span><br><span class="line">  copyright:</span><br><span class="line">    enable: true</span><br><span class="line">    limit_count: 50</span><br><span class="line"></span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">配置</th><th align="left">解释</th></tr></thead><tbody><tr><td align="left">enable</td><td align="left">是否开启网站复制权限</td></tr><tr><td align="left">copyright</td><td align="left">复制的内容后面加上版权信息</td></tr><tr><td align="left">enable</td><td align="left">是否开启复制版权信息添加</td></tr><tr><td align="left">limit_count</td><td align="left">字数限制，当复制文字大于这个字数限制时，将在复制的内容后面加上版权信息</td></tr></tbody></table><blockquote><p>添加版权信息后</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">作者: Jerry</span><br><span class="line">连结: http://localhost:4000/posts/bd3c650b/#Paragraph</span><br><span class="line">来源: Butterfly</span><br><span class="line">着作权归作者所有。商业转载请联络作者获得授权，非商业转载请注明出处。</span><br></pre></td></tr></table></figure><h3 id="社交图标"><a href="#社交图标" class="headerlink" title="社交图标"></a>社交图标</h3><p>Butterfly支持 <a href="https://fontawesome.com/icons?from=io">font-awesome v6</a>图标.</p><p>书写格式 图标名：<code>url || 描述性文字</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  fab fa-github: https://github.com/xxxxx || Github</span><br><span class="line">  fas fa-envelope: mailto:xxxxxx@gmail.com || Email</span><br></pre></td></tr></table></figure><p>PC:</p><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-social-icon-pc.png" alt="pc"></p><p>Mobile:</p><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-socila-icon-mobile.png" alt="phone"></p><h3 id="主页文章节选-自动节选和文章页description"><a href="#主页文章节选-自动节选和文章页description" class="headerlink" title="主页文章节选(自动节选和文章页description)"></a>主页文章节选(自动节选和文章页description)</h3><p>因为主题UI的关係，<code>主页文章节选</code>只支持<code>自动节选</code>和<code>文章页description</code>。</p><p>在<code>butterfly</code>里，有四种可供选择：</p><ol><li><p><strong>description</strong>： 只显示description</p></li><li><p><strong>both</strong>： 优先选择description，如果没有配置description，则显示自动节选的内容</p></li><li><p><strong>auto_excerpt</strong>：只显示自动节选</p></li><li><p><strong>false</strong>： 不显示文章内容</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">index_post_content:</span><br><span class="line">  method: 3</span><br><span class="line">  length: 500 # if you set method to 2 or 3, the length need to config</span><br></pre></td></tr></table></figure><p><code>description</code>在front-matter里添加</p><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-description.png" alt="description"></p><h3 id="顶部图"><a href="#顶部图" class="headerlink" title="顶部图"></a>顶部图</h3></li></ol><blockquote><p>如果不要显示顶部图，可直接配置 <code>disable_top_img: true</code></p></blockquote><blockquote><p>顶部图的获取顺序，如果都没有配置，则不显示顶部图。</p><ol><li><p>页面顶部图的获取顺序：</p><p><code>各自配置的 top_img</code> &gt; <code>配置文件的 default_top_img</code></p></li><li><p>文章页顶部图的获取顺序：</p><p><code>各自配置的 top_img</code> &gt; <code>cover</code> &gt; <code>配置文件的 default_top_img</code></p></li></ol></blockquote><p>配置中的值：</p><table><thead><tr><th align="center">配置</th><th align="center">解释</th></tr></thead><tbody><tr><td align="center">index_img</td><td align="center">页的 top_img</td></tr><tr><td align="center">default_top_img</td><td align="center">默认的 top_img，当页面的 top_img 没有配置时，会显示 default_top_img</td></tr><tr><td align="center">archive_img</td><td align="center">归档页面的 top_img</td></tr><tr><td align="center">tag_img</td><td align="center">tag 子页面 的 默认 top_img</td></tr><tr><td align="center">tag_per_img</td><td align="center">tag 子页面的 top_img，可配置每个 tag 的 top_img</td></tr><tr><td align="center">category_img</td><td align="center">category 子页面 的 默认 top_img</td></tr><tr><td align="center">category_per_img</td><td align="center">category 子页面的 top_img，可配置每个 category 的 top_img</td></tr></tbody></table><p>其它页面 （tags&#x2F;categories&#x2F;自建页面）和 文章页 的 <code>top_img</code> ，请到对应的 md 页面设置<code>front-matter</code>中的<code>top_img</code></p><p>以上所有的 top_img 可配置以下值</p><blockquote><p><strong>3.2.0</strong> 以下版本的配置只支持</p><ul><li>留空，true 和 false - 显示默认的顔色</li><li>img链接 - 显示所配置的图片</li></ul></blockquote><table><thead><tr><th align="left">配置的值</th><th align="left">效果</th></tr></thead><tbody><tr><td align="left">留空</td><td align="left">显示默认的 top_img（如有），否则显示默认的顔色</td></tr><tr><td align="left">img链接</td><td align="left">图片的链接，显示所配置的图片</td></tr><tr><td align="left">顔色(HEX值 - #0000FF）</td><td align="left">对应的顔色</td></tr><tr><td align="left">颜色(RGB值 - rgb(0,0,255)</td><td align="left">对应的顔色</td></tr><tr><td align="left">颜色(顔色单词 - orange)</td><td align="left">对应的顔色</td></tr><tr><td align="left">颜色(渐变色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%))</td><td align="left">对应的顔色</td></tr><tr><td align="left">transparent</td><td align="left">透明</td></tr><tr><td align="left">false</td><td align="left">不显示 top_img</td></tr></tbody></table><p><code>tag_per_img</code> 和 <code>category_per_img</code> 是 3.2.0 新增的内容，可对 tag 和 category 进行单独的配置</p><p>并不推荐为每个 tag 和每个 category 都配置不同的顶部图，因为配置太多会拖慢生成速度</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tag_per_img：</span><br><span class="line">  aplayer: https://xxxxxx.png</span><br><span class="line">  android: ddddddd.png</span><br><span class="line">  </span><br><span class="line">category_per_img：</span><br><span class="line">  随想: hdhdh.png</span><br><span class="line">  推荐: ddjdjdjd.png</span><br></pre></td></tr></table></figure><blockquote><p>top_img: false</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/theme-butterfly-docs-page-top-img-false.png" alt="不开启顶部图"></p><blockquote><p>top_img: orange</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/theme-butterfly-docs-top-img-orange.png" alt="顶部图设置为纯色"></p><blockquote><p>top_img: ‘linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)’</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/theme-butterfly-docs-top-img-color.png" alt="顶部图设置为渐变"></p><h3 id="文章置顶"><a href="#文章置顶" class="headerlink" title="文章置顶"></a>文章置顶</h3><p>【推荐】<code>hexo-generator-index</code>从 2.0.0 开始，已经支持文章置顶功能。你可以直接在文章的<code>front-matter</code>区域里添加<code>sticky: 1</code>属性来把这篇文章置顶。数值越大，置顶的优先级越大。</p><h3 id="文章封面"><a href="#文章封面" class="headerlink" title="文章封面"></a>文章封面</h3><p>文章的 markdown 文档上,在 <code>Front-matter</code> 添加 <code>cover</code> ,并填上要显示的图片地址。</p><p>如果不配置 <code>cover</code>,可以设置显示默认的 cover。</p><p>如果不想在首页显示 cover, 可以设置为 <code>false</code>。</p><blockquote><p>文章封面的获取顺序 <code>Front-matter</code> 的 <code>cover</code> &gt; <code>配置文件的 default_cover</code> &gt; <code>false</code></p></blockquote><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cover:</span><br><span class="line">  # display the cover or not (是否顯示文章封面)</span><br><span class="line">  index_enable: true</span><br><span class="line">  aside_enable: true</span><br><span class="line">  archives_enable: true</span><br><span class="line">  # the position of cover in home page (封面顯示的位置)</span><br><span class="line">  # left/right/both</span><br><span class="line">  position: both</span><br><span class="line">  # When cover is not set, the default cover is displayed (當沒有設置cover時，默認的封面顯示)</span><br><span class="line">  default_cover:</span><br><span class="line">     - https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">参数</th><th align="center">解释</th></tr></thead><tbody><tr><td align="center">index_enable</td><td align="center">主页是否显示文章封面图</td></tr><tr><td align="center">aside_enable</td><td align="center">侧栏是否显示文章封面图</td></tr><tr><td align="center">archives_enable</td><td align="center">归档页面是否显示文章封面图</td></tr><tr><td align="center">position</td><td align="center">主页卡片文章封面的显示位置：- left：全部显示在左边；- right：全部显示在右边；- both：封面位置以左右左右轮流显示</td></tr><tr><td align="center">default_cover</td><td align="center"></td></tr></tbody></table><p>当配置多张图片时,会随机选择一张作为cover.此时写法应为</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">default_cover:</span><br><span class="line">  - https://file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg.png</span><br><span class="line">  - https://file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg2.png</span><br><span class="line">  - https://file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg3.png</span><br></pre></td></tr></table></figure><blockquote><p>left</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-left.png" alt="left"></p><blockquote><p>right</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-right.png" alt="right"></p><blockquote><p>both</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-both.png" alt="both"></p><h3 id="文章页相关配置"><a href="#文章页相关配置" class="headerlink" title="文章页相关配置"></a>文章页相关配置</h3><h4 id="文章meta显示"><a href="#文章meta显示" class="headerlink" title="文章meta显示"></a>文章meta显示</h4><p>这个选项是用来显示文章的相关信息的。</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">post_meta:</span><br><span class="line">  page:</span><br><span class="line">    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示</span><br><span class="line">    date_format: relative # date/relative 显示日期还是相对日期</span><br><span class="line">    categories: true # true or false 主页是否显示分类</span><br><span class="line">    tags: true # true or false 主页是否显示标签</span><br><span class="line">    label: true # true or false 显示描述性文字</span><br><span class="line">  post:</span><br><span class="line">    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示</span><br><span class="line">    date_format: relative # date/relative 显示日期还是相对日期</span><br><span class="line">    categories: true # true or false 文章页是否显示分类</span><br><span class="line">    tags: true # true or false 文章页是否显示标签</span><br><span class="line">    label: true # true or false 显示描述性文字</span><br></pre></td></tr></table></figure><blockquote><p>主页</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-page-meta.png" alt="显示文章相关信息"></p><blockquote><p>文章页</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-info.png" alt="文章页"></p><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-tag.png" alt="文章底部"></p><p><code>date_format</code> 是 3.2.0 新增的内容，配置时间显示明确时间还是相对时间</p><blockquote><p>相对时间</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/theme-butterfly-docs-relative-time.png" alt="相对时间"></p><blockquote><p>明确时间</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/theme-butterfly-docs-full-date.png" alt="明确时间"></p><h4 id="文章版权"><a href="#文章版权" class="headerlink" title="文章版权"></a>文章版权</h4><p>为你的博客文章展示文章版权和许可协议。</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">post_copyright:</span><br><span class="line">  enable: true</span><br><span class="line">  decode: false</span><br><span class="line">  author_href:</span><br><span class="line">  license: CC BY-NC-SA 4.0</span><br><span class="line">  license_url: https://creativecommons.org/licenses/by-nc-sa/4.0/</span><br></pre></td></tr></table></figure><p>由于<code>Hexo 4.1</code>开始，默认对网址进行解码，以至于如果是中文网址，会被解码，可设置<code>decode: true</code>来显示中文网址。</p><p>如果有文章（例如：转载文章）不需要显示版权，可以在文章Front-matter单独设置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copyright: false</span><br></pre></td></tr></table></figure><p>从<code>3.0.0</code>开始，支持对单独文章设置版权信息，可以在文章Front-matter单独设置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">copyright_author: xxxx</span><br><span class="line">copyright_author_href: https://xxxxxx.com</span><br><span class="line">copyright_url: https://xxxxxx.com</span><br><span class="line">copyright_info: 此文章版权归xxxxx所有，如有转载，请注明来自原作者</span><br></pre></td></tr></table></figure><p><strong>版权显示截图</strong></p><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-copyright.png" alt="版权显示截图"></p><h4 id="文章打赏"><a href="#文章打赏" class="headerlink" title="文章打赏"></a>文章打赏</h4><p>在你每篇文章的结尾，可以添加打赏按钮。相关二维码可以自行配置。</p><p>对于没有提供二维码的，可配置一张软件的icon图片，然后在link上添加相应的打赏链接。用户点击图片就会跳转到链接去。</p><p>link可以不写，会默认为图片的链接。</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">reward:</span><br><span class="line">  enable: true</span><br><span class="line">  QR_code:</span><br><span class="line">    - img: /img/wechat.jpg</span><br><span class="line">      link:</span><br><span class="line">      text: 微信</span><br><span class="line">    - img: /img/alipay.jpg</span><br><span class="line">      link:</span><br><span class="line">      text: 支付宝</span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-donate.png" alt="打赏"></p><h4 id="文章过期提醒"><a href="#文章过期提醒" class="headerlink" title="文章过期提醒"></a>文章过期提醒</h4><p>可设置是否显示文章过期提醒，以更新时间为基准。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Displays outdated notice for a post (文章过期提醒)</span><br><span class="line">noticeOutdate:</span><br><span class="line">  enable: true</span><br><span class="line">  style: flat # style: simple/flat</span><br><span class="line">  limit_day: 365 # When will it be shown</span><br><span class="line">  position: top # position: top/bottom</span><br><span class="line">  message_prev: It has been</span><br><span class="line">  message_next: days since the last update, the content of the article may be outdated.</span><br></pre></td></tr></table></figure><p><code>limit_day</code>： 距离更新时间多少天才显示文章过期提醒</p><p><code>message_prev</code> ： 天数之前的文字</p><p><code>message_next</code>：天数之后的文字</p><blockquote><p>style: flat</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butteffly-docs-outdate-flat.png" alt="flat"></p><blockquote><p>style: simple</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-outdated-simple.png" alt="simple"></p><h4 id="文章分页按钮"><a href="#文章分页按钮" class="headerlink" title="文章分页按钮"></a>文章分页按钮</h4><blockquote><p>当文章封面设置为 false 时，或者没有获取到封面配置，分页背景将会显示主题色。</p></blockquote><p>可设置分页的逻辑，也可以关闭分页显示</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># post_pagination (分页)</span><br><span class="line"># value: 1 || 2 || false</span><br><span class="line"># 1: The &#x27;next post&#x27; will link to old post</span><br><span class="line"># 2: The &#x27;next post&#x27; will link to new post</span><br><span class="line"># false: disable pagination</span><br><span class="line">post_pagination: false</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">参数</th><th align="center">解释</th></tr></thead><tbody><tr><td align="center">post_pagination: false</td><td align="center">关闭分页按钮</td></tr><tr><td align="center">post_pagination: 1</td><td align="center">下一篇显示的是旧文章</td></tr><tr><td align="center">post_pagination: 2</td><td align="center">下一篇显示的是新文章</td></tr></tbody></table><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-post-pagination.png" alt="分页"></p><h3 id="头像"><a href="#头像" class="headerlink" title="头像"></a>头像</h3><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">avatar:</span><br><span class="line">  img: /img/avatar.png</span><br><span class="line">  effect: true # 头像会一直转圈</span><br></pre></td></tr></table></figure><h3 id="Footer-设置"><a href="#Footer-设置" class="headerlink" title="Footer 设置"></a>Footer 设置</h3><h4 id="博客年份"><a href="#博客年份" class="headerlink" title="博客年份"></a>博客年份</h4><p><code>since</code>是一个来展示你站点起始时间的选项。它位于页面的最底部。</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">footer:</span><br><span class="line">  owner:</span><br><span class="line">    enable: true</span><br><span class="line">    since: 2018</span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-since.png" alt="博客年份"></p><h4 id="页脚自定义文本"><a href="#页脚自定义文本" class="headerlink" title="页脚自定义文本"></a>页脚自定义文本</h4><p><code>custom_text</code>是一个给你用来在页脚自定义文本的选项。通常你可以在这里写声明文本等。支持 HTML。</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">custom_text: Hi, welcome to my &lt;a href=&quot;https://butterfly.js.org/&quot;&gt;blog&lt;/a&gt;!</span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-footer-text.png" alt="页脚自定义文本"></p><p>对于部分人需要写 ICP 的，也可以写在 <code>custom_text</code>里</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">custom_text: &lt;a href=&quot;icp链接&quot;&gt;&lt;img class=&quot;icp-icon&quot; src=&quot;icp图片&quot;&gt;&lt;span&gt;备案号：xxxxxx&lt;/span&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure><h3 id="右下角按钮"><a href="#右下角按钮" class="headerlink" title="右下角按钮"></a>右下角按钮</h3><h4 id="简繁转换"><a href="#简繁转换" class="headerlink" title="简繁转换"></a>简繁转换</h4><p>简体繁体互换</p><p>右下角会有简繁转换按钮。</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">translate:</span><br><span class="line">  enable: true</span><br><span class="line">  # 默认按钮显示文字(网站是简体，应设置为&#x27;default: 繁&#x27;)</span><br><span class="line">  default: 简</span><br><span class="line">  #网站默认语言，1: 繁体中文, 2: 简体中文</span><br><span class="line">  defaultEncoding: 1</span><br><span class="line">  #延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0</span><br><span class="line">  translateDelay: 0</span><br><span class="line">  #当文字是简体时，按钮显示的文字</span><br><span class="line">  msgToTraditionalChinese: &quot;繁&quot;</span><br><span class="line">  #当文字是繁体时，按钮显示的文字</span><br><span class="line">  msgToSimplifiedChinese: &quot;简&quot;</span><br></pre></td></tr></table></figure><blockquote><p>简体</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-simp.png" alt="简体"></p><blockquote><p>繁体</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-tranditional.png" alt="繁体"></p><h4 id="阅读模式"><a href="#阅读模式" class="headerlink" title="阅读模式"></a>阅读模式</h4><p>阅读模式下会去掉除文章外的内容，避免干扰阅读。</p><p>只会出现在文章页面，右下角会有阅读模式按钮。</p><p>修改 <strong>主题配置文件</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readmode: true</span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-read-mode.png" alt="阅读模式"></p><h4 id="滚动状态百分比"><a href="#滚动状态百分比" class="headerlink" title="滚动状态百分比"></a>滚动状态百分比</h4><p>主题配置文件中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># show scroll percent in scroll-to-top button</span><br><span class="line">rightside_scroll_percent: true</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@m2/img/hexo-butterfly-docs-scroll-percent-right-btn.gif" alt="滚动状态百分比"></p><h3 id="侧边栏设置"><a href="#侧边栏设置" class="headerlink" title="侧边栏设置"></a>侧边栏设置</h3><h4 id="侧边排版"><a href="#侧边排版" class="headerlink" title="侧边排版"></a>侧边排版</h4><p>可自行决定哪个项目需要显示，可决定位置，也可以设置不显示侧边栏。</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line">  enable: true</span><br><span class="line">  hide: false</span><br><span class="line">  button: true</span><br><span class="line">  mobile: true # display on mobile</span><br><span class="line">  position: right # left or right</span><br><span class="line">  display:</span><br><span class="line">    archive: true</span><br><span class="line">    tag: true</span><br><span class="line">    category: true</span><br><span class="line">  card_author:</span><br><span class="line">    enable: true</span><br><span class="line">    description:</span><br><span class="line">    button:</span><br><span class="line">      enable: true</span><br><span class="line">      icon: fab fa-github</span><br><span class="line">      text: Follow Me</span><br><span class="line">      link: https://github.com/xxxxxx</span><br><span class="line">  card_announcement:</span><br><span class="line">    enable: true</span><br><span class="line">    content: This is my Blog</span><br><span class="line">  card_recent_post:</span><br><span class="line">    enable: true</span><br><span class="line">    limit: 5 # if set 0 will show all</span><br><span class="line">    sort: date # date or updated</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  card_categories:</span><br><span class="line">    enable: true</span><br><span class="line">    limit: 8 # if set 0 will show all</span><br><span class="line">    expand: none # none/true/false</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  card_tags:</span><br><span class="line">    enable: true</span><br><span class="line">    limit: 40 # if set 0 will show all</span><br><span class="line">    color: false</span><br><span class="line">    orderby: random # Order of tags, random/name/length</span><br><span class="line">    order: 1 # Sort of order. 1, asc for ascending; -1, desc for descending</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  card_archives:</span><br><span class="line">    enable: true</span><br><span class="line">    type: monthly # yearly or monthly</span><br><span class="line">    format: MMMM YYYY # eg: YYYY年MM月</span><br><span class="line">    order: -1 # Sort of order. 1, asc for ascending; -1, desc for descending</span><br><span class="line">    limit: 8 # if set 0 will show all</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  card_webinfo:</span><br><span class="line">    enable: true</span><br><span class="line">    post_count: true</span><br><span class="line">    last_push_date: true</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br></pre></td></tr></table></figure><blockquote><p>position: left</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-aside-left.png" alt="侧边栏左"></p><blockquote><p>position: right</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-aside-right.png" alt="侧边栏右"></p><blockquote><p>card_tags color: false</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/20200426182730.png" alt="侧边栏标签颜色隐藏"></p><blockquote><p>card_tags color: true</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/20200426183025.png" alt="侧边栏颜色显示"></p><blockquote><p>aside button</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-aside-button.gif" alt="隐藏"></p><h4 id="访问人数-busuanzi-UV-和-PV"><a href="#访问人数-busuanzi-UV-和-PV" class="headerlink" title="访问人数 busuanzi (UV 和 PV)"></a>访问人数 busuanzi (UV 和 PV)</h4><p>访问 busuanzi 的<a href="http://busuanzi.ibruce.info/">官方网站</a>查看更多的介绍。</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">busuanzi:</span><br><span class="line">  site_uv: true</span><br><span class="line">  site_pv: true</span><br><span class="line">  page_pv: true</span><br></pre></td></tr></table></figure><p>如果需要修改 busuanzi 的 CDN 链接，可通过 <code>主题配置文件</code> 的 <code>CDN</code> 中的 <code>option</code> 进行修改</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line">  option:</span><br><span class="line">  busuanzi: xxxxxxxxx</span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-busuanzi-site-pv.png" alt="访问人数"></p><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-pv.png" alt="文章阅读量"></p><h4 id="运行时间"><a href="#运行时间" class="headerlink" title="运行时间"></a>运行时间</h4><p>网页已运行时间</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">runtimeshow:</span><br><span class="line">  enable: true</span><br><span class="line">  publish_date: 6/7/2018 00:00:00  </span><br><span class="line">  ##网页开通时间</span><br><span class="line">  #格式: 月/日/年 时间</span><br><span class="line">  #也可以写成 年/月/日 时间</span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-runtime.png" alt="运行时间"></p><h4 id="自定义添加栏目"><a href="#自定义添加栏目" class="headerlink" title="自定义添加栏目"></a>自定义添加栏目</h4><p><a href="https://butterfly.js.org/posts/ea33ab97/">自定义侧边栏</a></p><h3 id="标签外挂（Tag-Plugins）-1"><a href="#标签外挂（Tag-Plugins）-1" class="headerlink" title="标签外挂（Tag Plugins）"></a>标签外挂（Tag Plugins）</h3><blockquote><p>标签外挂是Hexo独有的功能，并不是标准的Markdown格式。</p><p>以下的写法，只适用于Butterfly主题，用在其它主题上不会有效果，甚至可能会报错。使用前请留意</p></blockquote><blockquote><p>标签外挂虽然能为主题带来一些额外的功能和UI方面的强化，但是，标签外挂也有明显的限制，使用时请留意。</p></blockquote><h4 id="Tabs"><a href="#Tabs" class="headerlink" title="Tabs"></a>Tabs</h4><p>移植于next主题</p><p>使用方法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line">&lt;!-- tab [Tab caption] [@icon] --&gt;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br><span class="line">Unique name   : Unique name of tabs block tag without comma.</span><br><span class="line">                Will be used in #id&#x27;s as prefix for each tab with their index numbers.</span><br><span class="line">                If there are whitespaces in name, for generate #id all whitespaces will replaced by dashes.</span><br><span class="line">                Only for current url of post/page must be unique!</span><br><span class="line">[index]       : Index number of active tab.</span><br><span class="line">                If not specified, first tab (1) will be selected.</span><br><span class="line">                If index is -1, no tab will be selected. It&#x27;s will be something like spoiler.</span><br><span class="line">                Optional parameter.</span><br><span class="line">[Tab caption] : Caption of current tab.</span><br><span class="line">                If not caption specified, unique name with tab index suffix will be used as caption of tab.</span><br><span class="line">                If not caption specified, but specified icon, caption will empty.</span><br><span class="line">                Optional parameter.</span><br><span class="line">[@icon]       : FontAwesome icon name (full-name, look like &#x27;fas fa-font&#x27;)</span><br><span class="line">                Can be specified with or without space; e.g. &#x27;Tab caption @icon&#x27; similar to &#x27;Tab caption@icon&#x27;.</span><br><span class="line">                Optional parameter.</span><br></pre></td></tr></table></figure><blockquote><p>Demo 1 - 预设选择第一个【默认】</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 1.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 2.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 3.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><blockquote><p>Demo 2 - 预设选择tabs</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test2, 3 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 1.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 2.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 3.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test2-1">test2 1</button></li><li class="tab"><button type="button" data-href="#test2-2">test2 2</button></li><li class="tab active"><button type="button" data-href="#test2-3">test2 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test2-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="test2-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><blockquote><p>Demo 3 - 没有预设值</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test3, -1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 1.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 2.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**This is Tab 3.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test3-1">test3 1</button></li><li class="tab"><button type="button" data-href="#test3-2">test3 2</button></li><li class="tab"><button type="button" data-href="#test3-3">test3 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test3-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><blockquote><p>Demo 4 - 自定义Tab名 + 只有icon + icon和Tab名</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab 第一个Tab --&gt;</span><br><span class="line">**tab名字为第一个Tab**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line">**只有图标 没有Tab名字**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 炸弹@fas fa-bomb --&gt;</span><br><span class="line">**名字+icon**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">第一个Tab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>炸弹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tab名字为第一个Tab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>只有图标 没有Tab名字</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>名字+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="tag-hide"><a href="#tag-hide" class="headerlink" title="tag-hide"></a>tag-hide</h4><blockquote><p>2.2.0以上提供</p><p>请注意，tag-hide内的标签外挂content内都不建议有h1 - h6 等标题。因为Toc会把隐藏内容标题也显示出来，而且当滚动屏幕时，如果隐藏内容没有显示出来，会导致Toc的滚动出现异常。</p></blockquote><p>如果你想把一些文字、内容隐藏起来，并提供按钮让用户点击显示。可以使用这个标签外挂。</p><p>如果你需要展示的内容太多，可以把它隐藏在收缩框里，需要时再把它展开。</p><p>( display 不能包含英文逗号，可用<code>&amp;sbquo;</code>)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideToggle display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideToggle %&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Demo</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideToggle Butterfly安装方法 %&#125;</span><br><span class="line">在你的博客根目录里</span><br><span class="line"></span><br><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly</span><br><span class="line"></span><br><span class="line">如果想要安装比较新的dev分支，可以</span><br><span class="line"></span><br><span class="line">git clone -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly</span><br><span class="line"></span><br><span class="line">&#123;% endhideToggle %&#125;</span><br></pre></td></tr></table></figure><details class="toggle" ><summary class="toggle-button" style="">Butterfly安装方法</summary><div class="toggle-content"><p>在你的博客根目录里</p><p>git clone -b master <a href="https://github.com/jerryc127/hexo-theme-butterfly.git">https://github.com/jerryc127/hexo-theme-butterfly.git</a> themes&#x2F;Butterfly</p><p>如果想要安装比较新的dev分支，可以</p><p>git clone -b dev <a href="https://github.com/jerryc127/hexo-theme-butterfly.git">https://github.com/jerryc127/hexo-theme-butterfly.git</a> themes&#x2F;Butterfly</p></div></details><h3 id="在线聊天"><a href="#在线聊天" class="headerlink" title="在线聊天"></a>在线聊天</h3><p>这些工具都提供了一个按钮可以打开&#x2F;关闭聊天窗口。<br>主题也提供了一个集合主题特色的按钮来替换这些工具本身的按钮，这个聊天按钮将会出现在右下角里。<br>你只需要把<code>chat_btn</code>打开就行。</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Chat Button [recommend]</span><br><span class="line"># It will create a button in the bottom right corner of website, and hide the origin button</span><br><span class="line">chat_btn: true</span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-chat-button.png" alt="开启在线聊天"></p><p>为了不影响访客的体验，主题提供一个<code>chat_hide_show</code>配置<br>设为<code>true</code>后，使用工具提供的按钮时，只有向上滚动才会显示聊天按钮，向下滚动时会隐藏按钮。</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># The origin chat button is displayed when scrolling up, and the button is hidden when scrolling down</span><br><span class="line">chat_hide_show: true</span><br></pre></td></tr></table></figure><blockquote><p>如果使用工具自带的聊天按钮，按钮位置可能会遮挡右下角图标，请配置<code>rightside-bottom</code>调正右下角图标位置</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rightside-bottom: 100px</span><br></pre></td></tr></table></figure><h3 id="搜索系統"><a href="#搜索系統" class="headerlink" title="搜索系統"></a>搜索系統</h3><h4 id="本地搜索"><a href="#本地搜索" class="headerlink" title="本地搜索"></a>本地搜索</h4><blockquote><p>記得運行 hexo clean</p></blockquote><ol><li><p>你需要安裝 <a href="https://github.com/PaicHyperionDev/hexo-generator-search">hexo-generator-search</a>，根據它的文檔去做相應配置</p></li><li><p>修改 主題配置文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">local_search:</span><br><span class="line">  enable: false</span><br><span class="line">  preload: false</span><br><span class="line">  CDN:</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">参数</th><th align="center">解释</th></tr></thead><tbody><tr><td align="left">enable</td><td align="center">是否开启本地搜索</td></tr><tr><td align="left">preload</td><td align="center">预加载，开启后，进入网页后会自动加载搜索文件。关闭时，只有点击搜索按钮后，才会加载搜索文件</td></tr><tr><td align="left">CDN</td><td align="center">搜索文件的 CDN 地址（默认使用的本地链接）</td></tr></tbody></table></li></ol><h3 id="美化特效"><a href="#美化特效" class="headerlink" title="美化特效"></a>美化特效</h3><h4 id="网站背景"><a href="#网站背景" class="headerlink" title="网站背景"></a>网站背景</h4><p>默认显示白色，可设置图片或者颜色</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 图片格式 url(http://xxxxxx.com/xxx.jpg)</span><br><span class="line"># 颜色（HEX值/RGB值/顔色单词/渐变色)</span><br><span class="line"># 留空 不显示背景</span><br><span class="line">background:</span><br></pre></td></tr></table></figure><p>留意: 如果你的网站根目录不是’&#x2F;‘,使用本地图片时，需加上你的根目录。<br>例如：网站是 <code>https://yoursite.com/blog</code>，引用一张<code>img/xx.png</code>图片，则设置background为<code>url(/blog/img/xx.png)</code></p><blockquote><p>background:’#49B202’</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-set-body-background-color.png" alt="背景色"></p><blockquote><p>background: url(<a href="https://i.loli.net/2019/09/09/5oDRkWVKctx2b6A.png">https://i.loli.net/2019/09/09/5oDRkWVKctx2b6A.png</a>)</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-set-body-background-img.png" alt="背景图"></p><h4 id="背景特效"><a href="#背景特效" class="headerlink" title="背景特效"></a>背景特效</h4><h4 id="canvas-nest"><a href="#canvas-nest" class="headerlink" title="canvas_nest"></a>canvas_nest</h4><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">canvas_nest:</span><br><span class="line">  enable: true</span><br><span class="line">  color: &#x27;0,0,255&#x27; #color of lines, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(note: use &#x27;,&#x27; to separate.)</span><br><span class="line">  opacity: 0.7 # the opacity of line (0~1), default: 0.5.</span><br><span class="line">  zIndex: -1 # z-index property of the background, default: -1.</span><br><span class="line">  count: 99 # the number of lines, default: 99.</span><br><span class="line">  mobile: false # false 手机端不显示 true 手机端显示</span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-canvas_nest.gif" alt="背景特效"></p><h4 id="页面加载动画-preloader"><a href="#页面加载动画-preloader" class="headerlink" title="页面加载动画 preloader"></a>页面加载动画 preloader</h4><p>当进入网页时，因为加载速度的问题，可能会导致 top_img 图片出现断层显示，或者网页加载不全而出现等待时间，开启preloader后，会显示加载动画，等页面加载完，加载动画会消失。</p><p>主题支持 pace.js 的加载动画，具体可查看 <a href="https://codebyzach.github.io/pace/">pace.js</a></p><p>配置 <strong>butterly.yml</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 加载动画 Loading Animation</span><br><span class="line">preloader:</span><br><span class="line">  enable: false</span><br><span class="line">  # source</span><br><span class="line">  # 1. fullpage-loading</span><br><span class="line">  # 2. pace (progress bar)</span><br><span class="line">  source: 1</span><br><span class="line">  # pace theme (see https://codebyzach.github.io/pace/)</span><br><span class="line">  pace_css_url:</span><br></pre></td></tr></table></figure><blockquote><p>fullpage-loading</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-preloader.gif" alt="加载"></p><h4 id="网站副标题"><a href="#网站副标题" class="headerlink" title="网站副标题"></a>网站副标题</h4><p>可设置主页中显示的网站副标题或者喜欢的座右铭。</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># 主页subtitle</span><br><span class="line">subtitle:</span><br><span class="line">  enable: false</span><br><span class="line">  # Typewriter Effect (打字效果)</span><br><span class="line">  effect: true</span><br><span class="line">  startDelay: 300 # time before typing starts in milliseconds</span><br><span class="line">  typeSpeed: 150 # type speed in milliseconds</span><br><span class="line">  backSpeed: 50 # backspacing speed in milliseconds</span><br><span class="line">  # loop (循环打字)</span><br><span class="line">  loop: true</span><br><span class="line">  # source 调用第三方服务</span><br><span class="line">  # source: false 关闭调用</span><br><span class="line">  # source: 1  调用一言网的一句话（简体） https://hitokoto.cn/</span><br><span class="line">  # source: 2  调用一句网（简体） http://yijuzhan.com/</span><br><span class="line">  # source: 3  调用今日诗词（简体） https://www.jinrishici.com/</span><br><span class="line">  # subtitle 会先显示 source , 再显示 sub 的内容</span><br><span class="line">  source: false</span><br><span class="line">  # 如果关闭打字效果，subtitle 只会显示 sub 的第一行文字</span><br><span class="line">  sub:</span><br><span class="line">    - 今日事&amp;#44;今日毕</span><br><span class="line">    - Never put off till tomorrow what you can do today</span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-index-subtitle.gif" alt="副标题"></p><h3 id="字数统计"><a href="#字数统计" class="headerlink" title="字数统计"></a>字数统计</h3><p>要为<code>Butterfly</code>配上字数统计特性, 你需要如下几个步骤:</p><ol><li><p>打开 hexo 工作目录</p></li><li><p><code>npm install hexo-wordcount --save</code> or <code>yarn add hexo-wordcount</code></p></li><li><p>修改 <code>主题配置文件</code>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wordcount:</span><br><span class="line">  enable: true</span><br><span class="line">  post_wordcount: true</span><br><span class="line">  min2read: true</span><br><span class="line">  total_wordcount: true</span><br></pre></td></tr></table></figure><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-word-count.png" alt="字数统计"></p><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-wordcount-totalcount.png" alt="主页显示字数"></p></li></ol><h3 id="Snackbar-弹窗"><a href="#Snackbar-弹窗" class="headerlink" title="Snackbar 弹窗"></a>Snackbar 弹窗</h3><p>Snackbar 弹窗,根据自己爱好开启</p><p>修改 <code>主题配置文件</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Snackbar 弹窗</span><br><span class="line"># https://github.com/polonel/SnackBar</span><br><span class="line"># position 弹窗位置</span><br><span class="line"># 可选 top-left / top-center / top-right / bottom-left / bottom-center / bottom-right</span><br><span class="line">snackbar:</span><br><span class="line">  enable: true</span><br><span class="line">  position: bottom-left</span><br><span class="line">  bg_light: &#x27;#49b1f5&#x27; #light mode时弹窗背景</span><br><span class="line">  bg_dark: &#x27;#2d3035&#x27; #dark mode时弹窗背景</span><br></pre></td></tr></table></figure><blockquote><p>未开启Snackbar</p></blockquote><p><img src="https://file.crazywong.com/gh/jerryc127/CDN/img/snackbar_false.gif" alt="未开启弹窗"></p><blockquote><p>开启Snackbar</p></blockquote><p><img src="https://s3.bmp.ovh/imgs/2023/03/04/4d45abd5e8328b5a.png" alt="开启后"></p><h3 id="Instantpage"><a href="#Instantpage" class="headerlink" title="Instantpage"></a>Instantpage</h3><p>当鼠标悬停到链接上超过 65 毫秒时，Instantpage 会对该链接进行预加载，可以提升访问速度。</p><p>修改配置文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># https://instant.page/</span><br><span class="line"># prefetch (预加载)</span><br><span class="line">instantpage: true</span><br></pre></td></tr></table></figure><h3 id="Pangu"><a href="#Pangu" class="headerlink" title="Pangu"></a>Pangu</h3><blockquote><p>如果你跟我一样，每次看到网页上的中文字和英文、数字、符号挤在一块，就会坐立难安，忍不住想在它们之间加个空格。这个外挂正是你在网路世界走跳所需要的东西，它会自动替你在网页中所有的中文字和半形的英文、数字、符号之间插入空白。</p></blockquote><p>修改配置文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># https://github.com/vinta/pangu.js</span><br><span class="line"># Insert a space between Chinese character and English character (中英文之间添加空格)</span><br><span class="line">pangu:</span><br><span class="line">  enable: false</span><br><span class="line">  field: post # site/post</span><br></pre></td></tr></table></figure><p><code>field</code>只支持两个参数，<code>post</code>(只在文章页生效)和<code>site</code>(全站生效)</p><h1 id="音乐"><a href="#音乐" class="headerlink" title="音乐"></a>音乐</h1><p><a href="http://hexo.lgqyun.cn/posts/b9048e90.html">Aplayer 播放器</a></p><h1 id="电影"><a href="#电影" class="headerlink" title="电影"></a>电影</h1><p><a href="http://hexo.lgqyun.cn/posts/737f360a.html">爬取豆瓣数据生成电影页面</a></p><h1 id="自定义侧边栏"><a href="#自定义侧边栏" class="headerlink" title="自定义侧边栏"></a>自定义侧边栏</h1><p><a href="http://hexo.lgqyun.cn/posts/a8a0d075.html">访客地图</a></p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
